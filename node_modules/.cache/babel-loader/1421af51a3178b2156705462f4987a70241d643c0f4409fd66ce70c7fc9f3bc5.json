{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport { globalVariable } from \"@/global\";\nimport IndexComponent from \"./IndexComponent.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"WelcomeComponent\",\n  components: {\n    IndexComponent\n  },\n  data() {\n    return {\n      productsCount: 0,\n      blogsCount: 0,\n      teamCount: 0,\n      userEmail: \"\",\n      userId: \"\"\n    };\n  },\n  mounted() {\n    this.fetchDashboardCounts();\n    this.checkProfileStatus();\n  },\n  methods: {\n    async fetchDashboardCounts() {\n      try {\n        const providerRes = await axios.get(`${globalVariable}/providers/counts`);\n        this.productsCount = providerRes.data.count || 0;\n        const seekersRes = await axios.get(`${globalVariable}/seekers/count`);\n        this.blogsCount = seekersRes.data.count || 0;\n        const jobsRes = await axios.get(`${globalVariable}/jobs/count`);\n        this.teamCount = jobsRes.data.count || 0;\n      } catch (error) {\n        console.error(\"Error fetching dashboard counts:\", error);\n      }\n    },\n    async checkProfileStatus() {\n      const token = localStorage.getItem(\"employeeToken\");\n      if (!token) return;\n      try {\n        const payload = JSON.parse(atob(token.split(\".\")[1]));\n        this.userEmail = payload.email;\n\n        // 1. Get userId from email\n        const res = await axios.get(`${globalVariable}/get_user_id_by_email/${this.userEmail}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        this.userId = res.data.users_id;\n\n        // 2. Check if profile is complete\n        const checkRes = await axios.get(`${globalVariable}/seekers/check_columns/${this.userId}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const isComplete = checkRes.data.isComplete;\n\n        // 3. Redirect if profile is incomplete\n        if (!isComplete) {\n          this.$router.push(\"/dashboard/Edit-Profile\");\n        }\n      } catch (error) {\n        console.error(\"Error checking profile completeness:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["globalVariable","IndexComponent","axios","name","components","data","productsCount","blogsCount","teamCount","userEmail","userId","mounted","fetchDashboardCounts","checkProfileStatus","methods","providerRes","get","count","seekersRes","jobsRes","error","console","token","localStorage","getItem","payload","JSON","parse","atob","split","email","res","headers","Authorization","users_id","checkRes","isComplete","$router","push"],"sources":["/Users/gentil/Desktop/Kozi-ai-agent/src/views/jobseeker/WelcomeComponent.vue"],"sourcesContent":["<template>\n  <IndexComponent />\n  <div\n    class=\"page-wrapper\"\n    id=\"main-wrapper\"\n    data-layout=\"vertical\"\n    data-navbarbg=\"skin6\"\n    data-sidebartype=\"full\"\n    data-sidebar-description=\"fixed\"\n    data-header-description=\"fixed\"\n    style=\"position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1;\"\n  >\n    <div class=\"body-wrapper\" style=\"margin-top: 70px; margin-left: 270px; background: white; min-height: calc(100vh - 70px); padding: 20px; overflow-y: auto; max-height: calc(100vh - 70px);\">\n      <!-- <p style=\"margin: 0.5rem 0; font-size: 0.9rem;\"><strong>Your email:</strong> {{ userEmail }}</p>\n      <p style=\"margin: 0.5rem 0; font-size: 0.9rem;\"><strong>User ID:</strong> {{ userId }}</p> -->\n\n      <div class=\"container-fluid\">\n        <!-- Stats Cards Row -->\n        <div class=\"stats-cards-container\">\n          <!-- Job Providers Card -->\n          <div class=\"stats-card\">\n            <div class=\"card-content\">\n              <div class=\"card-info\">\n                <div class=\"card-label\">All Job Providers</div>\n                <div class=\"card-value\">{{ productsCount }}</div>\n              </div>\n              <div class=\"card-icon\">\n                <i class=\"ti ti-notebook\"></i>\n              </div>\n            </div>\n            <div class=\"card-gradient-bg\"></div>\n          </div>\n\n          <!-- Job Seekers Card -->\n          <div class=\"stats-card\">\n            <div class=\"card-content\">\n              <div class=\"card-info\">\n                <div class=\"card-label\">All Job Seekers</div>\n                <div class=\"card-value\">{{ blogsCount }}</div>\n              </div>\n              <div class=\"card-icon\">\n                <i class=\"ti ti-archive\"></i>\n              </div>\n            </div>\n            <div class=\"card-gradient-bg\"></div>\n          </div>\n\n          <!-- All Jobs Card -->\n          <div class=\"stats-card\">\n            <div class=\"card-content\">\n              <div class=\"card-info\">\n                <div class=\"card-label\">All Jobs</div>\n                <div class=\"card-value\">{{ teamCount }}</div>\n              </div>\n              <div class=\"card-icon\">\n                <i class=\"ti ti-users\"></i>\n              </div>\n            </div>\n            <div class=\"card-gradient-bg\"></div>\n          </div>\n        </div>\n\n        <!-- Payment Status & Benefits Section -->\n        <div class=\"benefits-section\">\n          <h3 class=\"section-title\">\n            Payment Status & Benefits of Kozi Caretakers\n          </h3>\n          <hr class=\"section-divider\">\n\n          <div class=\"benefits-content\">\n            <!-- Image Section -->\n            <div class=\"benefits-image\">\n              <img :src=\"require('@/assets/img/payment-post.jpg')\" alt=\"Registration\" class=\"responsive-image\" />\n            </div>\n\n            <!-- Instructions Section -->\n            <div class=\"benefits-instructions\">\n              <h2 class=\"instructions-title\">How It Works</h2>\n              <hr class=\"instructions-divider\" />\n\n              <div class=\"premium-notice\">\n                <p>\n                  <strong>N.B:</strong> A one-time payment grants access to exclusive premium features for only advanced workers!\n                </p>\n              </div>\n\n              <div class=\"steps-container\">\n                <div class=\"step-item\">\n                  <span class=\"step-number\">1</span>\n                  <span class=\"step-text\">Dial the MoMo Pay code *182*8*1*067788#</span>\n                </div>\n                <div class=\"step-item\">\n                  <span class=\"step-number\">2</span>\n                  <span class=\"step-text\">Enter the amount: 1,500 RWF</span>\n                </div>\n                <div class=\"step-item\">\n                  <span class=\"step-number\">3</span>\n                  <span class=\"step-text\">Confirm the name: SANSON GROUP Ltd</span>\n                </div>\n                <div class=\"step-item\">\n                  <span class=\"step-number\">4</span>\n                  <span class=\"step-text\">Enter your MoMo PIN</span>\n                </div>\n                <div class=\"step-item\">\n                  <span class=\"step-number\">5</span>\n                  <span class=\"step-text\">Wait up to 5 minutes for approval</span>\n                </div>\n              </div>\n\n              <div class=\"footer-note\">\n                Track your progress and take the next step in your career journey with us!\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { globalVariable } from \"@/global\";\nimport IndexComponent from \"./IndexComponent.vue\";\nimport axios from \"axios\";\n\nexport default {\n  name: \"WelcomeComponent\",\n  components: {\n    IndexComponent,\n  },\n  data() {\n    return {\n      productsCount: 0,\n      blogsCount: 0,\n      teamCount: 0,\n      userEmail: \"\",\n      userId: \"\",\n    };\n  },\n  mounted() {\n    this.fetchDashboardCounts();\n    this.checkProfileStatus();\n  },\n  methods: {\n    async fetchDashboardCounts() {\n      try {\n        const providerRes = await axios.get(`${globalVariable}/providers/counts`);\n        this.productsCount = providerRes.data.count || 0;\n\n        const seekersRes = await axios.get(`${globalVariable}/seekers/count`);\n        this.blogsCount = seekersRes.data.count || 0;\n\n        const jobsRes = await axios.get(`${globalVariable}/jobs/count`);\n        this.teamCount = jobsRes.data.count || 0;\n      } catch (error) {\n        console.error(\"Error fetching dashboard counts:\", error);\n      }\n    },\n\n    async checkProfileStatus() {\n      const token = localStorage.getItem(\"employeeToken\");\n      if (!token) return;\n\n      try {\n        const payload = JSON.parse(atob(token.split(\".\")[1]));\n        this.userEmail = payload.email;\n\n        // 1. Get userId from email\n        const res = await axios.get(`${globalVariable}/get_user_id_by_email/${this.userEmail}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        this.userId = res.data.users_id;\n\n        // 2. Check if profile is complete\n        const checkRes = await axios.get(`${globalVariable}/seekers/check_columns/${this.userId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        const isComplete = checkRes.data.isComplete;\n\n        // 3. Redirect if profile is incomplete\n        if (!isComplete) {\n          this.$router.push(\"/dashboard/Edit-Profile\");\n        }\n      } catch (error) {\n        console.error(\"Error checking profile completeness:\", error);\n      }\n    },\n  },\n};\n</script>\n\n\n<style scoped>\n/* Stats Cards Container */\n.stats-cards-container {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 1.5rem;\n  margin-bottom: 3rem;\n  padding: 0 1rem;\n}\n\n/* Individual Stats Card */\n.stats-card {\n  position: relative;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 20px;\n  padding: 2rem;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n  transition: all 0.3s ease;\n  overflow: hidden;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.stats-card:hover {\n  transform: translateY(-10px);\n  box-shadow: 0 30px 60px rgba(0, 0, 0, 0.15);\n}\n\n.stats-card:nth-child(1) {\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n}\n\n.stats-card:nth-child(2) {\n  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);\n}\n\n.stats-card:nth-child(3) {\n  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);\n}\n\n.card-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: relative;\n  z-index: 2;\n}\n\n.card-info {\n  flex: 1;\n}\n\n.card-label {\n  font-size: 0.9rem;\n  color: rgba(255, 255, 255, 0.8);\n  text-transform: uppercase;\n  font-weight: 600;\n  letter-spacing: 0.5px;\n  margin-bottom: 0.5rem;\n}\n\n.card-value {\n  font-size: 2.5rem;\n  font-weight: 700;\n  color: white;\n  line-height: 1;\n}\n\n.card-icon {\n  font-size: 3rem;\n  color: rgba(255, 255, 255, 0.3);\n  margin-left: 1rem;\n}\n\n.card-gradient-bg {\n  position: absolute;\n  top: 0;\n  right: 0;\n  width: 100px;\n  height: 100px;\n  background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);\n  border-radius: 50%;\n  transform: translate(30px, -30px);\n}\n\n/* Benefits Section */\n.benefits-section {\n  margin-top: 3rem;\n  padding: 0 1rem;\n}\n\n.section-title {\n  text-align: center;\n  color: #5F9EA0;\n  font-family: 'Michroma', sans-serif;\n  font-size: 1.8rem;\n  margin-bottom: 1rem;\n  font-weight: 600;\n}\n\n.section-divider {\n  margin: 20px auto;\n  border: 0;\n  height: 2px;\n  width: 60%;\n  background: linear-gradient(90deg, #EA60A7, #5F9EA0);\n  border-radius: 2px;\n}\n\n.benefits-content {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 3rem;\n  align-items: center;\n  margin-top: 2rem;\n}\n\n.benefits-image {\n  width: 100%;\n}\n\n.responsive-image {\n  width: 100%;\n  height: auto;\n  max-height: 700px;\n  object-fit: cover;\n  border-radius: 15px;\n  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);\n}\n\n.benefits-instructions {\n  padding: 2rem;\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\n  border-radius: 15px;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n}\n\n.instructions-title {\n  color: #5F9EA0;\n  font-size: 1.5rem;\n  margin-bottom: 1rem;\n  font-weight: 600;\n}\n\n.instructions-divider {\n  margin: 15px 0;\n  border: 0;\n  height: 2px;\n  width: 60%;\n  background: linear-gradient(90deg, #EA60A7, #5F9EA0);\n  border-radius: 2px;\n}\n\n.premium-notice {\n  background: linear-gradient(135deg, #EA60A7, #f093fb);\n  color: white;\n  padding: 1rem;\n  border-radius: 10px;\n  margin-bottom: 2rem;\n  text-align: center;\n}\n\n.premium-notice p {\n  margin: 0;\n  font-weight: 500;\n}\n\n.steps-container {\n  margin: 2rem 0;\n}\n\n.step-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  padding: 1rem;\n  background: white;\n  border-radius: 10px;\n  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);\n  transition: transform 0.2s ease;\n}\n\n.step-item:hover {\n  transform: translateX(5px);\n}\n\n.step-number {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 30px;\n  height: 30px;\n  background: linear-gradient(135deg, #5F9EA0, #4facfe);\n  color: white;\n  border-radius: 50%;\n  font-weight: 600;\n  margin-right: 1rem;\n  flex-shrink: 0;\n}\n\n.step-text {\n  font-weight: 500;\n  color: #333;\n  flex: 1;\n}\n\n.footer-note {\n  text-align: center;\n  font-style: italic;\n  color: #666;\n  margin-top: 2rem;\n  padding: 1rem;\n  background: rgba(95, 158, 160, 0.1);\n  border-radius: 10px;\n}\n\n/* Mobile Responsiveness - Keep cards in single row */\n@media (max-width: 768px) {\n  .stats-cards-container {\n    grid-template-columns: repeat(3, 1fr);\n    gap: 0.8rem;\n    padding: 0 0.5rem;\n  }\n  \n  .stats-card {\n    padding: 1rem;\n  }\n  \n  .card-value {\n    font-size: 1.5rem;\n  }\n  \n  .card-icon {\n    font-size: 2rem;\n  }\n  \n  .card-label {\n    font-size: 0.7rem;\n  }\n  \n  .benefits-content {\n    grid-template-columns: 1fr;\n    gap: 2rem;\n  }\n  \n  .section-title {\n    font-size: 1.4rem;\n  }\n  \n  .benefits-instructions {\n    padding: 1.5rem;\n  }\n  \n  .instructions-title {\n    font-size: 1.3rem;\n  }\n  \n  .step-item {\n    flex-direction: column;\n    text-align: center;\n    padding: 1rem;\n  }\n  \n  .step-number {\n    margin-right: 0;\n    margin-bottom: 0.5rem;\n  }\n}\n\n@media (max-width: 480px) {\n  .stats-cards-container {\n    grid-template-columns: repeat(3, 1fr);\n    gap: 0.5rem;\n    padding: 0 0.25rem;\n  }\n  \n  .stats-card {\n    padding: 0.8rem;\n  }\n  \n  .card-content {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .card-value {\n    font-size: 1.3rem;\n  }\n  \n  .card-icon {\n    font-size: 1.8rem;\n    margin-left: 0;\n    margin-top: 0.5rem;\n  }\n  \n  .card-label {\n    font-size: 0.65rem;\n    line-height: 1.2;\n  }\n  \n  .benefits-instructions {\n    padding: 1rem;\n  }\n  \n  .section-title {\n    font-size: 1.2rem;\n    padding: 0 1rem;\n  }\n}\n\n/* Very small screens optimization */\n@media (max-width: 320px) {\n  .stats-cards-container {\n    gap: 0.3rem;\n  }\n  \n  .stats-card {\n    padding: 0.6rem;\n  }\n  \n  .card-value {\n    font-size: 1.1rem;\n  }\n  \n  .card-icon {\n    font-size: 1.5rem;\n  }\n  \n  .card-label {\n    font-size: 0.6rem;\n  }\n}\n\n/* Animation for cards loading */\n@keyframes cardSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n.stats-card {\n  animation: cardSlideIn 0.6s ease-out;\n}\n\n.stats-card:nth-child(1) {\n  animation-delay: 0.1s;\n}\n\n.stats-card:nth-child(2) {\n  animation-delay: 0.2s;\n}\n\n.stats-card:nth-child(3) {\n  animation-delay: 0.3s;\n}\n</style>"],"mappings":";;AAyHA,SAASA,cAAa,QAAS,UAAU;AACzC,OAAOC,cAAa,MAAO,sBAAsB;AACjD,OAAOC,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,IAAI,EAAE,kBAAkB;EACxBC,UAAU,EAAE;IACVH;EACF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE,CAAC;MAChBC,UAAU,EAAE,CAAC;MACbC,SAAS,EAAE,CAAC;MACZC,SAAS,EAAE,EAAE;MACbC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,oBAAoB,CAAC,CAAC;IAC3B,IAAI,CAACC,kBAAkB,CAAC,CAAC;EAC3B,CAAC;EACDC,OAAO,EAAE;IACP,MAAMF,oBAAoBA,CAAA,EAAG;MAC3B,IAAI;QACF,MAAMG,WAAU,GAAI,MAAMb,KAAK,CAACc,GAAG,CAAC,GAAGhB,cAAc,mBAAmB,CAAC;QACzE,IAAI,CAACM,aAAY,GAAIS,WAAW,CAACV,IAAI,CAACY,KAAI,IAAK,CAAC;QAEhD,MAAMC,UAAS,GAAI,MAAMhB,KAAK,CAACc,GAAG,CAAC,GAAGhB,cAAc,gBAAgB,CAAC;QACrE,IAAI,CAACO,UAAS,GAAIW,UAAU,CAACb,IAAI,CAACY,KAAI,IAAK,CAAC;QAE5C,MAAME,OAAM,GAAI,MAAMjB,KAAK,CAACc,GAAG,CAAC,GAAGhB,cAAc,aAAa,CAAC;QAC/D,IAAI,CAACQ,SAAQ,GAAIW,OAAO,CAACd,IAAI,CAACY,KAAI,IAAK,CAAC;MAC1C,EAAE,OAAOG,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;MAC1D;IACF,CAAC;IAED,MAAMP,kBAAkBA,CAAA,EAAG;MACzB,MAAMS,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;MACnD,IAAI,CAACF,KAAK,EAAE;MAEZ,IAAI;QACF,MAAMG,OAAM,GAAIC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD,IAAI,CAACpB,SAAQ,GAAIgB,OAAO,CAACK,KAAK;;QAE9B;QACA,MAAMC,GAAE,GAAI,MAAM7B,KAAK,CAACc,GAAG,CAAC,GAAGhB,cAAc,yBAAyB,IAAI,CAACS,SAAS,EAAE,EAAE;UACtFuB,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUX,KAAK;UAAG;QAC9C,CAAC,CAAC;QAEF,IAAI,CAACZ,MAAK,GAAIqB,GAAG,CAAC1B,IAAI,CAAC6B,QAAQ;;QAE/B;QACA,MAAMC,QAAO,GAAI,MAAMjC,KAAK,CAACc,GAAG,CAAC,GAAGhB,cAAc,0BAA0B,IAAI,CAACU,MAAM,EAAE,EAAE;UACzFsB,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUX,KAAK;UAAG;QAC9C,CAAC,CAAC;QAEF,MAAMc,UAAS,GAAID,QAAQ,CAAC9B,IAAI,CAAC+B,UAAU;;QAE3C;QACA,IAAI,CAACA,UAAU,EAAE;UACf,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,yBAAyB,CAAC;QAC9C;MACF,EAAE,OAAOlB,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,sCAAsC,EAAEA,KAAK,CAAC;MAC9D;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}