{"ast":null,"code":"import { openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, withModifiers as _withModifiers, normalizeStyle as _normalizeStyle } from \"vue\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"sidebar-header\",\n  style: {\n    paddingTop: '1rem'\n  }\n};\nconst _hoisted_2 = {\n  key: 0\n};\nconst _hoisted_3 = [\"title\"];\nconst _hoisted_4 = {\n  key: 1,\n  class: \"desktop-content\"\n};\nconst _hoisted_5 = {\n  class: \"new-chat-row\"\n};\nconst _hoisted_6 = {\n  key: 0\n};\nconst _hoisted_7 = {\n  class: \"chat-history\"\n};\nconst _hoisted_8 = {\n  class: \"history-controls\"\n};\nconst _hoisted_9 = [\"title\"];\nconst _hoisted_10 = {\n  key: 0,\n  class: \"history-content\"\n};\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  class: \"history-content-wrapper\"\n};\nconst _hoisted_13 = {\n  class: \"history-title\"\n};\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = {\n  key: 1,\n  class: \"empty-history\"\n};\nconst _hoisted_16 = {\n  key: 2,\n  class: \"mobile-modal-content-wrapper\"\n};\nconst _hoisted_17 = {\n  class: \"mobile-modal-header\"\n};\nconst _hoisted_18 = {\n  class: \"new-chat-row mobile-new-chat-row\"\n};\nconst _hoisted_19 = {\n  class: \"chat-history mobile-chat-history\"\n};\nconst _hoisted_20 = {\n  class: \"history-content\"\n};\nconst _hoisted_21 = [\"onClick\"];\nconst _hoisted_22 = {\n  class: \"history-content-wrapper\"\n};\nconst _hoisted_23 = {\n  class: \"history-title\"\n};\nconst _hoisted_24 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", {\n    class: _normalizeClass([\"sidebar\", {\n      'minimized': $props.isMinimized,\n      'open': $props.isMobile && $props.visible,\n      'desktop-visible': !$props.isMobile,\n      'mobile': $props.isMobile\n    }]),\n    style: _normalizeStyle([$setup.mobileStyle, {\n      height: $props.isMobile ? '' : `calc(100dvh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px))`\n    }])\n  }, [!$props.isMobile ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [!$props.isMinimized ? (_openBlock(), _createElementBlock(\"h2\", _hoisted_2, \"Chats\")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n    class: \"menu-toggle\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $setup.handleToggle && $setup.handleToggle(...args)),\n    title: $props.isMinimized ? 'Expand sidebar' : 'Collapse sidebar'\n  }, [_createElementVNode(\"i\", {\n    class: _normalizeClass($props.isMinimized ? 'fas fa-bars' : 'fas fa-times')\n  }, null, 2 /* CLASS */)], 8 /* PROPS */, _hoisted_3)])) : _createCommentVNode(\"v-if\", true), !$props.isMobile ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"button\", {\n    class: \"new-chat-btn\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $setup.handleNewChat && $setup.handleNewChat(...args))\n  }, [_cache[5] || (_cache[5] = _createElementVNode(\"i\", {\n    class: \"fas fa-plus\"\n  }, null, -1 /* HOISTED */)), !$props.isMinimized ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"New Chat\")) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"div\", _hoisted_8, [_cache[6] || (_cache[6] = _createElementVNode(\"div\", {\n    class: \"history-header\"\n  }, \"History\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: _normalizeClass([\"clear-history-btn\", {\n      confirm: $setup.showClearConfirm\n    }]),\n    onClick: _cache[2] || (_cache[2] = (...args) => $setup.handleClearAll && $setup.handleClearAll(...args)),\n    title: $setup.showClearConfirm ? 'Click to confirm clearing history' : 'Clear all chat history'\n  }, [_createElementVNode(\"i\", {\n    class: _normalizeClass([\"fas\", $setup.showClearConfirm ? 'fa-check' : 'fa-trash'])\n  }, null, 2 /* CLASS */), _createElementVNode(\"span\", null, _toDisplayString($setup.showClearConfirm ? 'Confirm' : 'Clear'), 1 /* TEXT */)], 10 /* CLASS, PROPS */, _hoisted_9)]), $setup.sortedHistory.length ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.sortedHistory, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.sessionId || index,\n      class: _normalizeClass([\"history-item\", {\n        'active': $setup.isActive(item.sessionId)\n      }]),\n      onClick: $event => $setup.handleHistoryClick(item)\n    }, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, _toDisplayString(item.title || 'Untitled Chat'), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n      class: \"delete-history-btn\",\n      onClick: _withModifiers($event => $setup.handleDeleteHistory(item), [\"stop\"]),\n      title: \"Delete this chat\"\n    }, [...(_cache[7] || (_cache[7] = [_createElementVNode(\"i\", {\n      class: \"fas fa-trash\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_14)], 10 /* CLASS, PROPS */, _hoisted_11);\n  }), 128 /* KEYED_FRAGMENT */))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_15, _cache[8] || (_cache[8] = [_createElementVNode(\"p\", null, \"No chats yet\", -1 /* HOISTED */), _createElementVNode(\"p\", {\n    class: \"subtext\"\n  }, \"Start a new conversation\", -1 /* HOISTED */)])))])])) : _createCommentVNode(\"v-if\", true), $props.isMobile && $props.visible ? (_openBlock(), _createElementBlock(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_cache[10] || (_cache[10] = _createElementVNode(\"h2\", null, \"Chats\", -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    class: \"close-mobile-modal\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $setup.handleToggle && $setup.handleToggle(...args)),\n    \"aria-label\": \"Close history\",\n    title: \"Close\"\n  }, _cache[9] || (_cache[9] = [_createElementVNode(\"i\", {\n    class: \"fas fa-times\"\n  }, null, -1 /* HOISTED */)]))]), _createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"button\", {\n    class: \"new-chat-btn\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $setup.handleNewChat && $setup.handleNewChat(...args))\n  }, _cache[11] || (_cache[11] = [_createElementVNode(\"i\", {\n    class: \"fas fa-plus\"\n  }, null, -1 /* HOISTED */), _createElementVNode(\"span\", null, \"New Chat\", -1 /* HOISTED */)]))]), _createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"div\", _hoisted_20, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.sortedHistory, (item, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: item.sessionId || index,\n      class: _normalizeClass([\"history-item\", {\n        'active': $setup.isActive(item.sessionId)\n      }]),\n      onClick: $event => $setup.handleHistoryClick(item)\n    }, [_createElementVNode(\"div\", _hoisted_22, [_createElementVNode(\"div\", _hoisted_23, _toDisplayString(item.title || 'Untitled Chat'), 1 /* TEXT */)]), _createElementVNode(\"button\", {\n      class: \"delete-history-btn\",\n      onClick: _withModifiers($event => $setup.handleDeleteHistory(item), [\"stop\"]),\n      title: \"Delete this chat\"\n    }, [...(_cache[12] || (_cache[12] = [_createElementVNode(\"i\", {\n      class: \"fas fa-trash\"\n    }, null, -1 /* HOISTED */)]))], 8 /* PROPS */, _hoisted_24)], 10 /* CLASS, PROPS */, _hoisted_21);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : _createCommentVNode(\"v-if\", true)], 6 /* CLASS, STYLE */);\n}","map":{"version":3,"names":["key","class","style","paddingTop","_createElementBlock","_normalizeClass","$props","isMinimized","isMobile","visible","_normalizeStyle","$setup","mobileStyle","_hoisted_1","_hoisted_2","_createCommentVNode","_createElementVNode","onClick","_cache","args","handleToggle","title","_hoisted_3","_hoisted_4","_hoisted_5","handleNewChat","_hoisted_6","_hoisted_7","_hoisted_8","confirm","showClearConfirm","handleClearAll","_toDisplayString","_hoisted_9","sortedHistory","length","_hoisted_10","_Fragment","_renderList","item","index","sessionId","isActive","$event","handleHistoryClick","_hoisted_12","_hoisted_13","_withModifiers","handleDeleteHistory","_hoisted_14","_hoisted_11","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_21"],"sources":["/Users/gentil/Desktop/Kozi-ai-agent/src/components/Sidebar.vue"],"sourcesContent":["<template>\n  <div class=\"sidebar\" :class=\"{ \n      'minimized': isMinimized, \n      'open': isMobile && visible, \n      'desktop-visible': !isMobile,\n      'mobile': isMobile\n    }\" \n    :style=\"[\n      mobileStyle,\n      { height: isMobile ? '' : `calc(100dvh - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px))` }\n    ]\"\n  >\n    \n    <div class=\"sidebar-header\" v-if=\"!isMobile\" :style=\"{ paddingTop: '1rem' }\">\n      <h2 v-if=\"!isMinimized\">Chats</h2>\n      <button class=\"menu-toggle\" @click=\"handleToggle\" :title=\"isMinimized ? 'Expand sidebar' : 'Collapse sidebar'\">\n        <i :class=\"isMinimized ? 'fas fa-bars' : 'fas fa-times'\"></i>\n      </button>\n    </div>\n\n    <div v-if=\"!isMobile\" class=\"desktop-content\">\n      <div class=\"new-chat-row\">\n        <button class=\"new-chat-btn\" @click=\"handleNewChat\">\n          <i class=\"fas fa-plus\"></i>\n          <span v-if=\"!isMinimized\">New Chat</span>\n        </button>\n      </div>\n\n      <div class=\"chat-history\">\n        <div class=\"history-controls\">\n          <div class=\"history-header\">History</div>\n          <button\n            class=\"clear-history-btn\"\n            :class=\"{ confirm: showClearConfirm }\"\n            @click=\"handleClearAll\"\n            :title=\"showClearConfirm ? 'Click to confirm clearing history' : 'Clear all chat history'\"\n          >\n            <i class=\"fas\" :class=\"showClearConfirm ? 'fa-check' : 'fa-trash'\"></i>\n            <span>{{ showClearConfirm ? 'Confirm' : 'Clear' }}</span>\n          </button>\n        </div>\n\n        <div class=\"history-content\" v-if=\"sortedHistory.length\">\n          <div\n            v-for=\"(item, index) in sortedHistory\"\n            :key=\"item.sessionId || index\"\n            class=\"history-item\"\n            :class=\"{ 'active': isActive(item.sessionId) }\"\n            @click=\"handleHistoryClick(item)\"\n          >\n            <div class=\"history-content-wrapper\">\n              <div class=\"history-title\">{{ item.title || 'Untitled Chat' }}</div>\n            </div>\n            <button\n              class=\"delete-history-btn\"\n              @click.stop=\"handleDeleteHistory(item)\"\n              title=\"Delete this chat\"\n            >\n              <i class=\"fas fa-trash\"></i>\n            </button>\n          </div>\n        </div>\n\n        <div class=\"empty-history\" v-else>\n          <p>No chats yet</p>\n          <p class=\"subtext\">Start a new conversation</p>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"mobile-modal-content-wrapper\" v-if=\"isMobile && visible\">\n        <div class=\"mobile-modal-header\">\n            <h2>Chats</h2>\n            <button class=\"close-mobile-modal\" @click=\"handleToggle\" aria-label=\"Close history\" title=\"Close\">\n                <i class=\"fas fa-times\"></i>\n            </button>\n        </div>\n\n        <div class=\"new-chat-row mobile-new-chat-row\">\n            <button class=\"new-chat-btn\" @click=\"handleNewChat\">\n                <i class=\"fas fa-plus\"></i>\n                <span>New Chat</span>\n            </button>\n        </div>\n\n        <div class=\"chat-history mobile-chat-history\">\n            <div class=\"history-content\">\n                <div \n                    v-for=\"(item, index) in sortedHistory\"\n                    :key=\"item.sessionId || index\" \n                    class=\"history-item\"\n                    :class=\"{ 'active': isActive(item.sessionId) }\"\n                    @click=\"handleHistoryClick(item)\"\n                >\n                    <div class=\"history-content-wrapper\">\n                        <div class=\"history-title\">{{ item.title || 'Untitled Chat' }}</div>\n                    </div>\n                    <button \n                        class=\"delete-history-btn\"\n                        @click.stop=\"handleDeleteHistory(item)\"\n                        title=\"Delete this chat\"\n                    >\n                        <i class=\"fas fa-trash\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed } from 'vue'\n\nexport default {\n  name: 'ChatSidebar',\n  props: {\n    history: {\n      type: Array,\n      default: () => []\n    },\n    currentSessionId: {\n      type: String,\n      default: null\n    },\n    isMinimized: {\n      type: Boolean,\n      default: false\n    },\n    // Mobile visibility control (passed from parent)\n    visible: {\n      type: Boolean,\n      default: true\n    },\n    isMobile: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['new-chat', 'toggle', 'load-history', 'delete-history', 'clear-history'],\n  setup(props, { emit }) {\n    // Local state for clear confirmation\n    const showClearConfirm = ref(false)\n\n    // Check if item is active\n    const isActive = (sessionId) => {\n      return props.currentSessionId === sessionId\n    }\n\n    // Sort history by creation time (newest first)\n    const sortedHistory = computed(() => {\n      return [...props.history].sort((a, b) => {\n        const timeA = new Date(a.createdAt || 0)\n        const timeB = new Date(b.createdAt || 0)\n        return timeB - timeA\n      })\n    })\n\n    // Event handlers\n    const handleNewChat = () => {\n      emit('new-chat')\n    }\n\n    const handleToggle = () => {\n      emit('toggle')\n    }\n\n    const handleHistoryClick = (item) => {\n      emit('load-history', item)\n    }\n\n    const handleDeleteHistory = (item) => {\n      emit('delete-history', item)\n    }\n\n    const handleClearAll = () => {\n      if (showClearConfirm.value) {\n        emit('clear-history')\n        showClearConfirm.value = false\n      } else {\n        showClearConfirm.value = true\n        setTimeout(() => {\n          showClearConfirm.value = false\n        }, 3000)\n      }\n    }\n\n    const mobileStyle = computed(() => {\n      return null\n    })\n\n    return {\n      showClearConfirm,\n      isActive,\n      sortedHistory,\n      handleNewChat,\n      handleToggle,\n      handleHistoryClick,\n      handleDeleteHistory,\n      handleClearAll,\n      mobileStyle\n    }\n  }\n}\n</script>\n\n<style scoped>\n/* Existing Desktop Styles (UNTOUCHED) */\n.sidebar {\n  width: 280px;\n  height: 100vh;\n  max-height: 100vh;\n  background: var(--sidebar-bg, #f8f9fa);\n  border-right: 1px solid var(--border-color, #e9ecef);\n  display: flex;\n  flex-direction: column;\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 10001;\n  transition: all 0.3s ease;\n  overflow: hidden;\n}\n\n/* Minimized sidebar state */\n.sidebar.minimized {\n  width: 60px;\n}\n\n.sidebar.minimized .sidebar-header {\n  justify-content: center;\n  padding: 1rem 0.5rem;\n}\n\n.sidebar.minimized .new-chat-btn {\n  justify-content: center;\n  padding: 0.75rem;\n  margin: 1rem 0.5rem;\n}\n\n.sidebar.minimized .new-chat-btn i {\n  margin: 0;\n}\n\n/* Hide history section when sidebar is minimized */\n.sidebar.minimized .chat-history {\n  display: none;\n}\n\n.sidebar-header {\n  padding: 1rem;\n  border-bottom: 1px solid var(--border-color, #e9ecef);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background: var(--header-bg, #ffffff);\n}\n\n.sidebar-header h2 {\n  margin: 0;\n  font-size: 1.25rem;\n  font-weight: 600;\n  color: var(--text-primary, #333);\n}\n\n.menu-toggle {\n  background: none;\n  border: none;\n  font-size: 1.2rem;\n  color: var(--text-secondary, #666);\n  cursor: pointer;\n  padding: 0.5rem;\n  border-radius: 4px;\n  transition: all 0.2s ease;\n}\n\n.menu-toggle:hover {\n  background: var(--hover-bg, #f0f0f0);\n  color: var(--text-primary, #333);\n}\n\n.new-chat-btn {\n  margin: 1rem;\n  padding: 0.75rem 1rem;\n  background: var(--primary-color, #E960A6);\n  color: white;\n  border: none;\n  border-radius: 8px;\n  font-size: 0.9rem;\n  font-weight: 500;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  transition: all 0.2s ease;\n  box-shadow: 0 2px 4px rgba(233, 96, 166, 0.2);\n}\n\n.new-chat-btn:hover {\n  background: var(--primary-hover, #d94a94);\n  transform: translateY(-1px);\n  box-shadow: 0 4px 8px rgba(233, 96, 166, 0.3);\n}\n\n.new-chat-row {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.close-inline-mobile {\n  margin-right: 1rem;\n  background: none;\n  border: 1px solid var(--border-color, #e9ecef);\n  color: var(--text-secondary, #666);\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.chat-history {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n  min-height: 0; /* CRITICAL: Allow flex child to shrink below content size */\n}\n\n.history-controls {\n  padding: 0 1rem;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n}\n\n.history-header {\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--text-secondary, #666);\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n}\n\n.clear-history-btn {\n  background: none;\n  border: none;\n  color: var(--text-secondary, #666);\n  cursor: pointer;\n  padding: 0.25rem 0.5rem;\n  border-radius: 4px;\n  font-size: 0.8rem;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 0.25rem;\n}\n\n.clear-history-btn:hover {\n  background: var(--danger-bg, #fee);\n  color: var(--danger-color, #dc3545);\n}\n\n.clear-history-btn.confirm {\n  background: var(--danger-bg, #fee);\n  color: var(--danger-color, #dc3545);\n}\n\n.history-content {\n  flex: 1;\n  overflow-y: auto;\n  padding: 0 1rem;\n  min-height: 0; /* CRITICAL: Allow flex child to shrink */\n}\n\n.empty-history {\n  text-align: center;\n  padding: 2rem 1rem;\n  color: var(--text-secondary, #666);\n}\n\n.empty-history p {\n  margin: 0.25rem 0;\n}\n\n.subtext {\n  font-size: 0.85rem;\n  opacity: 0.7;\n}\n\n.history-item {\n  position: relative;\n  transition: background-color 0.2s;\n  border-radius: 8px;\n  margin-bottom: 0.5rem;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  padding: 0.75rem;\n  gap: 0.75rem;\n}\n\n.history-item:hover {\n  background: var(--hover-bg, #f0f0f0);\n}\n\n.history-item.active {\n  background: var(--active-bg, #e3f2fd);\n  border: 1px solid var(--primary-color, #007bff);\n}\n\n.history-content-wrapper {\n  flex: 1;\n  min-width: 0;\n}\n\n.history-title {\n  font-size: 0.9rem;\n  font-weight: 500;\n  color: var(--text-primary, #333);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.delete-history-btn {\n  background: none;\n  border: none;\n  color: var(--text-secondary, #666);\n  cursor: pointer;\n  padding: 0.25rem;\n  border-radius: 4px;\n  opacity: 0;\n  transition: all 0.2s ease;\n  font-size: 0.8rem;\n}\n\n.history-item:hover .delete-history-btn {\n  opacity: 1;\n}\n\n.delete-history-btn:hover {\n  background: var(--danger-bg, #fee);\n  color: var(--danger-color, #dc3545);\n}\n\n/* Dark theme support (UNTOUCHED) */\nbody.dark .sidebar {\n  background: var(--dark-sidebar-bg, #1a1a1a);\n  border-right-color: var(--dark-border-color, #333);\n}\n\nbody.dark .sidebar-header {\n  background: var(--dark-header-bg, #2d2d2d);\n  border-bottom-color: var(--dark-border-color, #333);\n}\n\nbody.dark .sidebar-header h2 {\n  color: var(--dark-text-primary, #fff);\n}\n\nbody.dark .menu-toggle {\n  color: var(--dark-text-secondary, #ccc);\n}\n\nbody.dark .menu-toggle:hover {\n  background: var(--dark-hover-bg, #333);\n  color: var(--dark-text-primary, #fff);\n}\n\nbody.dark .new-chat-btn {\n  background: var(--dark-primary-color, #0d6efd);\n}\n\nbody.dark .new-chat-btn:hover {\n  background: var(--dark-primary-hover, #0b5ed7);\n}\n\nbody.dark .history-header {\n  color: var(--dark-text-secondary, #ccc);\n}\n\nbody.dark .clear-history-btn {\n  color: var(--dark-text-secondary, #ccc);\n}\n\nbody.dark .clear-history-btn:hover {\n  background: var(--dark-danger-bg, #2d1b1b);\n  color: var(--dark-danger-color, #f56565);\n}\n\nbody.dark .empty-history {\n  color: var(--dark-text-secondary, #ccc);\n}\n\nbody.dark .history-item:hover {\n  background: var(--dark-hover-bg, #333);\n}\n\nbody.dark .history-item.active {\n  background: var(--dark-active-bg, #1e3a5f);\n  border-color: var(--dark-primary-color, #0d6efd);\n}\n\nbody.dark .history-title {\n  color: var(--dark-text-primary, #fff);\n}\n\nbody.dark .delete-history-btn {\n  color: var(--dark-text-secondary, #ccc);\n}\n\nbody.dark .delete-history-btn:hover {\n  background: var(--dark-danger-bg, #2d1b1b);\n  color: var(--dark-danger-color, #f56565);\n}\n\n/* Desktop content layout */\n.desktop-content {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  height: 100%;\n  overflow: hidden; /* Prevent parent from scrolling */\n}\n\n/* ---------------------------------- */\n/* Responsive design (MOBILE FIXES for Modal) */\n/* ---------------------------------- */\n@media (max-width: 768px) {\n  /* 1. The .sidebar now acts as the full-screen, translucent overlay */\n  .sidebar.mobile {\n    width: 100vw;\n    height: 100dvh;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 10061;\n    background: rgba(0, 0, 0, 0.5); \n    display: flex; \n    \n    /* Pushes content to the top */\n    align-items: flex-start; \n    \n    /* Center horizontally */\n    justify-content: center; \n    transform: translateX(0);\n    opacity: 0;\n    visibility: hidden;\n    transition: opacity 0.3s ease, visibility 0.3s ease;\n    border-right: none;\n     \n    /* Ensure the modal is pushed down from the top */\n    padding-top: calc(30px + env(safe-area-inset-top, 0px));\n\n    /* NEW: Add padding left/right to ensure space around the modal card */\n    padding-left: 20px;\n    padding-right: 20px;\n  }\n\n  /* Make the overlay visible when the sidebar is 'open' */\n  .sidebar.mobile.open {\n    opacity: 1;\n    visibility: visible;\n  }\n\n  /* Hide desktop header */\n  .sidebar-header {\n    display: none;\n  }\n\n  /* 2. New Wrapper for the Actual Modal Content (the white card) */\n  .mobile-modal-content-wrapper {\n    background: #ffffff;\n    \n    /* Adjust width to be 100% of the new padded container, ensuring it respects the 20px left/right padding */\n    width: 100%; \n    \n    max-width: 350px; \n    height: auto;\n    /* Max height adjusted to respect the new, larger top padding */\n    max-height: calc(100vh - 120px - env(safe-area-inset-top, 0px) - env(safe-area-inset-bottom, 0px)); \n    border-radius: 12px;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); \n    display: flex;\n    flex-direction: column;\n    overflow: hidden; \n    padding: 0; \n  }\n\n  /* 3. Mobile Modal Header */\n  .mobile-modal-header {\n    display: flex;\n    justify-content: center; \n    align-items: center;\n    padding: 1rem 1.5rem;\n    position: relative;\n    border-bottom: 1px solid var(--border-color, #f0f0f0);\n  }\n\n  .mobile-modal-header h2 {\n    margin: 0;\n    font-size: 1.25rem;\n    font-weight: 600;\n  }\n\n  .close-mobile-modal {\n    position: absolute;\n    top: 50%; \n    transform: translateY(-50%);\n    right: 1.5rem;\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    color: var(--text-secondary, #666);\n    cursor: pointer;\n    padding: 0.25rem;\n    line-height: 1;\n  }\n  \n  /* 4. New Chat Button Styling */\n  .new-chat-row.mobile-new-chat-row {\n    padding: 1rem;\n    display: block; \n  }\n  \n  .new-chat-btn {\n    width: 100%; \n    margin: 0; \n    justify-content: center;\n    padding: 0.9rem;\n    background: var(--primary-color, #E960A6);\n    color: white;\n    box-shadow: 0 2px 4px rgba(233, 96, 166, 0.2);\n  }\n\n  /* 5. Chat History List */\n  .chat-history.mobile-chat-history {\n    flex: 1;\n    overflow-y: auto; \n    padding: 0;\n    min-height: 0; /* CRITICAL: Allow flex child to shrink */\n  }\n\n  .history-content {\n    padding: 0 1rem 1rem 1rem; \n  }\n  \n  .history-item {\n    padding: 0.75rem 0.5rem; \n    border-radius: 8px; \n    margin-bottom: 0.5rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n  }\n\n  .history-item:last-child {\n      margin-bottom: 0;\n  }\n\n  .delete-history-btn {\n      opacity: 1;\n      color: var(--text-secondary, #666);\n  }\n}\n\n/* Desktop visible state (UNTOUCHED) */\n.sidebar.desktop-visible {\n  transform: translateX(0);\n}\n</style>"],"mappings":";;EAAAA,GAAA;EAaSC,KAAK,EAAC,gBAAgB;EAAmBC,KAAK,EAAE;IAAAC,UAAA;EAAA;;;EAbzDH,GAAA;AAAA;mBAAA;;EAAAA,GAAA;EAoB0BC,KAAK,EAAC;;;EACrBA,KAAK,EAAC;AAAc;;EArB/BD,GAAA;AAAA;;EA4BWC,KAAK,EAAC;AAAc;;EAClBA,KAAK,EAAC;AAAkB;mBA7BrC;;EAAAD,GAAA;EA0CaC,KAAK,EAAC;;oBA1CnB;;EAkDiBA,KAAK,EAAC;AAAyB;;EAC7BA,KAAK,EAAC;AAAe;oBAnDxC;;EAAAD,GAAA;EA+DaC,KAAK,EAAC;;;EA/DnBD,GAAA;EAsESC,KAAK,EAAC;;;EACFA,KAAK,EAAC;AAAqB;;EAO3BA,KAAK,EAAC;AAAkC;;EAOxCA,KAAK,EAAC;AAAkC;;EACpCA,KAAK,EAAC;AAAiB;oBAtFxC;;EA8FyBA,KAAK,EAAC;AAAyB;;EAC3BA,KAAK,EAAC;AAAe;oBA/FlD;;uBACEG,mBAAA,CA2GM;IA3GDH,KAAK,EADZI,eAAA,EACa,SAAS;mBAA+BC,MAAA,CAAAC,WAAW;cAAiBD,MAAA,CAAAE,QAAQ,IAAIF,MAAA,CAAAG,OAAO;0BAA6BH,MAAA,CAAAE,QAAQ;gBAAkBF,MAAA,CAAAE;;IAMtJN,KAAK,EAPVQ,eAAA,EAOoBC,MAAA,CAAAC,WAAW,E;cAAkBN,MAAA,CAAAE,QAAQ;IAAA,E;OAMlBF,MAAA,CAAAE,QAAQ,I,cAA3CJ,mBAAA,CAKM,OALNS,UAKM,G,CAJOP,MAAA,CAAAC,WAAW,I,cAAtBH,mBAAA,CAAkC,MAdxCU,UAAA,EAc8B,OAAK,KAdnCC,mBAAA,gBAeMC,mBAAA,CAES;IAFDf,KAAK,EAAC,aAAa;IAAEgB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAER,MAAA,CAAAS,YAAA,IAAAT,MAAA,CAAAS,YAAA,IAAAD,IAAA,CAAY;IAAGE,KAAK,EAAEf,MAAA,CAAAC,WAAW;MACnES,mBAAA,CAA6D;IAAzDf,KAAK,EAhBjBI,eAAA,CAgBmBC,MAAA,CAAAC,WAAW;2CAhB9Be,UAAA,E,KAAAP,mBAAA,gB,CAoBgBT,MAAA,CAAAE,QAAQ,I,cAApBJ,mBAAA,CAgDM,OAhDNmB,UAgDM,GA/CJP,mBAAA,CAKM,OALNQ,UAKM,GAJJR,mBAAA,CAGS;IAHDf,KAAK,EAAC,cAAc;IAAEgB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAER,MAAA,CAAAc,aAAA,IAAAd,MAAA,CAAAc,aAAA,IAAAN,IAAA,CAAa;gCAChDH,mBAAA,CAA2B;IAAxBf,KAAK,EAAC;EAAa,6B,CACTK,MAAA,CAAAC,WAAW,I,cAAxBH,mBAAA,CAAyC,QAxBnDsB,UAAA,EAwBoC,UAAQ,KAxB5CX,mBAAA,e,KA4BMC,mBAAA,CAuCM,OAvCNW,UAuCM,GAtCJX,mBAAA,CAWM,OAXNY,UAWM,G,0BAVJZ,mBAAA,CAAyC;IAApCf,KAAK,EAAC;EAAgB,GAAC,SAAO,sBACnCe,mBAAA,CAQS;IAPPf,KAAK,EAhCjBI,eAAA,EAgCkB,mBAAmB;MAAAwB,OAAA,EACNlB,MAAA,CAAAmB;IAAgB;IAClCb,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAER,MAAA,CAAAoB,cAAA,IAAApB,MAAA,CAAAoB,cAAA,IAAAZ,IAAA,CAAc;IACrBE,KAAK,EAAEV,MAAA,CAAAmB,gBAAgB;MAExBd,mBAAA,CAAuE;IAApEf,KAAK,EArCpBI,eAAA,EAqCqB,KAAK,EAASM,MAAA,CAAAmB,gBAAgB;2BACvCd,mBAAA,CAAyD,cAAAgB,gBAAA,CAAhDrB,MAAA,CAAAmB,gBAAgB,uC,yBAtCrCG,UAAA,E,GA0C2CtB,MAAA,CAAAuB,aAAa,CAACC,MAAM,I,cAAvD/B,mBAAA,CAmBM,OAnBNgC,WAmBM,I,kBAlBJhC,mBAAA,CAiBMiC,SAAA,QA5DhBC,WAAA,CA4CoC3B,MAAA,CAAAuB,aAAa,EA5CjD,CA4CoBK,IAAI,EAAEC,KAAK;yBADrBpC,mBAAA,CAiBM;MAfHJ,GAAG,EAAEuC,IAAI,CAACE,SAAS,IAAID,KAAK;MAC7BvC,KAAK,EA9CjBI,eAAA,EA8CkB,cAAc;QAAA,UACAM,MAAA,CAAA+B,QAAQ,CAACH,IAAI,CAACE,SAAS;MAAA;MAC1CxB,OAAK,EAAA0B,MAAA,IAAEhC,MAAA,CAAAiC,kBAAkB,CAACL,IAAI;QAE/BvB,mBAAA,CAEM,OAFN6B,WAEM,GADJ7B,mBAAA,CAAoE,OAApE8B,WAAoE,EAAAd,gBAAA,CAAtCO,IAAI,CAAClB,KAAK,oC,GAE1CL,mBAAA,CAMS;MALPf,KAAK,EAAC,oBAAoB;MACzBgB,OAAK,EAvDpB8B,cAAA,CAAAJ,MAAA,IAuD2BhC,MAAA,CAAAqC,mBAAmB,CAACT,IAAI;MACrClB,KAAK,EAAC;uCAENL,mBAAA,CAA4B;MAAzBf,KAAK,EAAC;IAAc,2B,oBA1DrCgD,WAAA,E,yBAAAC,WAAA;qDA+DQ9C,mBAAA,CAGM,OAHN+C,WAGM,EAAAjC,MAAA,QAAAA,MAAA,OAFJF,mBAAA,CAAmB,WAAhB,cAAY,qBACfA,mBAAA,CAA+C;IAA5Cf,KAAK,EAAC;EAAS,GAAC,0BAAwB,oB,WAjErDc,mBAAA,gBAsEoDT,MAAA,CAAAE,QAAQ,IAAIF,MAAA,CAAAG,OAAO,I,cAAnEL,mBAAA,CAqCM,OArCNgD,WAqCM,GApCFpC,mBAAA,CAKM,OALNqC,WAKM,G,4BAJFrC,mBAAA,CAAc,YAAV,OAAK,sBACTA,mBAAA,CAES;IAFDf,KAAK,EAAC,oBAAoB;IAAEgB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAER,MAAA,CAAAS,YAAA,IAAAT,MAAA,CAAAS,YAAA,IAAAD,IAAA,CAAY;IAAE,YAAU,EAAC,eAAe;IAACE,KAAK,EAAC;gCACtFL,mBAAA,CAA4B;IAAzBf,KAAK,EAAC;EAAc,2B,MAI/Be,mBAAA,CAKM,OALNsC,WAKM,GAJFtC,mBAAA,CAGS;IAHDf,KAAK,EAAC,cAAc;IAAEgB,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAER,MAAA,CAAAc,aAAA,IAAAd,MAAA,CAAAc,aAAA,IAAAN,IAAA,CAAa;kCAC9CH,mBAAA,CAA2B;IAAxBf,KAAK,EAAC;EAAa,4BACtBe,mBAAA,CAAqB,cAAf,UAAQ,oB,MAItBA,mBAAA,CAqBM,OArBNuC,WAqBM,GApBFvC,mBAAA,CAmBM,OAnBNwC,WAmBM,I,kBAlBFpD,mBAAA,CAiBMiC,SAAA,QAxGtBC,WAAA,CAwF4C3B,MAAA,CAAAuB,aAAa,EAxFzD,CAwF4BK,IAAI,EAAEC,KAAK;yBADvBpC,mBAAA,CAiBM;MAfDJ,GAAG,EAAEuC,IAAI,CAACE,SAAS,IAAID,KAAK;MAC7BvC,KAAK,EA1FzBI,eAAA,EA0F0B,cAAc;QAAA,UACAM,MAAA,CAAA+B,QAAQ,CAACH,IAAI,CAACE,SAAS;MAAA;MAC1CxB,OAAK,EAAA0B,MAAA,IAAEhC,MAAA,CAAAiC,kBAAkB,CAACL,IAAI;QAE/BvB,mBAAA,CAEM,OAFNyC,WAEM,GADFzC,mBAAA,CAAoE,OAApE0C,WAAoE,EAAA1B,gBAAA,CAAtCO,IAAI,CAAClB,KAAK,oC,GAE5CL,mBAAA,CAMS;MALLf,KAAK,EAAC,oBAAoB;MACzBgB,OAAK,EAnG9B8B,cAAA,CAAAJ,MAAA,IAmGqChC,MAAA,CAAAqC,mBAAmB,CAACT,IAAI;MACrClB,KAAK,EAAC;yCAENL,mBAAA,CAA4B;MAAzBf,KAAK,EAAC;IAAc,2B,oBAtG/C0D,WAAA,E,yBAAAC,WAAA;0CAAA7C,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}