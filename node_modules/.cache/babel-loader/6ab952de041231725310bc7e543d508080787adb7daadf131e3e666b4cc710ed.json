{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport IndexComponent from \"./IndexComponent.vue\";\nimport { globalVariable } from \"@/global\";\nexport default {\n  name: \"WelcomeComponent\",\n  components: {\n    IndexComponent\n  },\n  data() {\n    return {\n      userEmail: \"\",\n      userId: null,\n      progress: 0,\n      appliedJobs: []\n    };\n  },\n  mounted() {\n    this.getUserEmailAndProgress();\n  },\n  methods: {\n    async getUserEmailAndProgress() {\n      const token = localStorage.getItem(\"employeeToken\");\n      if (!token) return;\n      try {\n        const payload = JSON.parse(atob(token.split(\".\")[1]));\n        this.userEmail = payload.email;\n        const res = await fetch(`${globalVariable}/get_user_id_by_email/${this.userEmail}`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const data = await res.json();\n        if (res.ok) {\n          this.userId = data.users_id;\n          this.getProgress(this.userId);\n          this.getAppliedJobs(this.userId);\n        } else {\n          console.error(\"Failed to get users_id from email:\", data.message);\n        }\n      } catch (err) {\n        console.error(\"Error decoding token or fetching user ID:\", err);\n      }\n    },\n    async getProgress(usersId) {\n      try {\n        const res = await fetch(`${globalVariable}/progress/${usersId}`);\n        const data = await res.json();\n        if (res.ok) {\n          this.progress = Math.round(data.progress);\n        } else {\n          console.error(\"Progress fetch failed:\", data.message);\n        }\n      } catch (error) {\n        console.error(\"Error fetching progress:\", error);\n      }\n    },\n    async getAppliedJobs(usersId) {\n      try {\n        const res = await fetch(`${globalVariable}/applied_jobs/${usersId}`);\n        const data = await res.json();\n        if (res.ok) {\n          this.appliedJobs = data.map(job => {\n            const deadline = new Date(job.deadline_date);\n            const now = new Date();\n            job.status = deadline > now ? \"Pending\" : \"Expired\";\n            return job;\n          });\n        } else {\n          console.error(\"Failed to fetch applied jobs:\", data.message);\n        }\n      } catch (error) {\n        console.error(\"Error fetching applied jobs:\", error);\n      }\n    }\n  }\n};","map":{"version":3,"names":["IndexComponent","globalVariable","name","components","data","userEmail","userId","progress","appliedJobs","mounted","getUserEmailAndProgress","methods","token","localStorage","getItem","payload","JSON","parse","atob","split","email","res","fetch","headers","Authorization","json","ok","users_id","getProgress","getAppliedJobs","console","error","message","err","usersId","Math","round","map","job","deadline","Date","deadline_date","now","status"],"sources":["/Users/gentil/Desktop/Kozi-ai-agent/src/views/jobseeker/MyApplication.vue"],"sourcesContent":["<template>\n  <IndexComponent />\n  <div\n    class=\"page-wrapper\"\n    id=\"main-wrapper\"\n    data-layout=\"vertical\"\n    data-navbarbg=\"skin6\"\n    data-sidebartype=\"full\"\n    data-sidebar-description=\"fixed\"\n    data-header-description=\"fixed\"\n    style=\"position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1;\"\n  >\n      <div class=\"body-wrapper\" style=\"margin-top: 70px; margin-left: 270px; background: white; min-height: calc(100vh - 70px); padding: 20px; overflow-y: auto; max-height: calc(100vh - 70px);\">\n\n      <div class=\"container-fluid\">\n        <!-- Page Heading -->\n        <div class=\"row mt-4\">\n             <h3 class=\"card-title fw-semibold mb-4\" style=\"color: #E960A6;\"><i class=\"fa-solid fa-spinner\"></i>   Application Status & Benefits of Kozi Caretakers</h3>\n        </div>\n\n        <div class=\"row\">\n          <!-- Benefits Section -->\n          <div class=\"col-md-6 other-div3\">\n            <h2 style=\"color:#5F9EA0\">Benefits of Kozi Caretakers</h2>\n            <ul><br>\n              <li style=\"text-align: justify;\">Wide Range of Opportunities: Discover diverse job listings tailored to your skills.</li><br>\n              <li style=\"text-align: justify;\">Continuous Skill Enhancement: Engage in training programs to sharpen your skills.</li><br>\n              <li style=\"text-align: justify;\">Community Support: Connect with a supportive community of fellow job seekers.</li><br>\n              <li style=\"text-align: justify;\">Exclusive Access: Gain access to exclusive job listings for Kozi Caretaker members.</li><br>\n              <li style=\"text-align: justify;\">Thank you for choosing Kozi Caretakers. Together, we're transforming lives.</li><br>\n            </ul>\n          </div>\n          <!-- Progress Section -->\n          <div class=\"col-md-6 other-div3\">\n            <h2 style=\"color:#5F9EA0\">Application Status Update</h2>\n            <div class=\"progress\" style=\"height: 30px;\">\n              <div\n                class=\"progress-bar\"\n                role=\"progressbar\"\n                :style=\"{ width: progress + '%' }\"\n                :aria-valuenow=\"progress\"\n                aria-valuemin=\"0\"\n                aria-valuemax=\"100\"\n              >\n                {{ progress }}%\n              </div>\n            </div>\n\n            <br />\n            <strong> Step 1: Initial Sign-up:</strong> Start your journey with us! Your application status begins at 36%. Sign up and create your profile.<br><br>\n            <strong> Step 2: Complete Your Profile:</strong> Update your information and complete your profile details to increase your status to 66%. Provide accurate information to enhance your job opportunities.<br><br>\n            <strong>Step 3: Get Recruited:</strong> Congratulations! Once recruited, your application status reaches 100%. You are now part of our team and ready to begin your new role.<br><br>\n            <strong>Step 4: Start Working:</strong> Begin working and making a difference! Your journey with us starts here. Dive into your responsibilities and contribute to our community.<br><br>\n            <span style=\"font-size: 14px;\">Track your progress and take the next step in your career journey with us!</span>\n          </div>\n        </div>\n\n        <!-- Applied Jobs Section -->\n        <div class=\"row mt-4\">\n          <h3 style=\"text-align:center;color:#5F9EA0; font-family:'Michroma', sans-serif;\">\n            Where I Have Applied\n          </h3>\n          <hr style=\"margin: 20px auto;border: 0;height: 1px;width: 50%;background: #EA60A7;\">\n        </div>\n\n        <div class=\"row\">\n          <div class=\"col-md-12\">\n            <div class=\"applied-jobs\" v-if=\"appliedJobs.length > 0\">\n              <div class=\"job-card\" v-for=\"job in appliedJobs\" :key=\"job.job_id\">\n                \n                <h4 class=\"job-title\">{{ job.job_title }}<span> at {{ job.company }} </span></h4>\n                <strong>Status:</strong>\n                    <span :class=\"job.status === 'Pending' ? 'status-pending' : 'status-expired'\">\n                      {{ job.status }}\n                    </span>\n                \n              </div>\n            </div>\n            <p v-else class=\"no-jobs-message\">You havenâ€™t applied to any jobs yet.</p>\n          </div>\n        </div>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport IndexComponent from \"./IndexComponent.vue\";\n\nimport { globalVariable } from \"@/global\";\n\nexport default {\n  name: \"WelcomeComponent\",\n  components: {\n    IndexComponent,\n\n  },\n  data() {\n    return {\n      userEmail: \"\",\n      userId: null,\n      progress: 0,\n      appliedJobs: [],\n    };\n  },\n  mounted() {\n    this.getUserEmailAndProgress();\n  },\n  methods: {\n    async getUserEmailAndProgress() {\n      const token = localStorage.getItem(\"employeeToken\");\n      if (!token) return;\n\n      try {\n        const payload = JSON.parse(atob(token.split(\".\")[1]));\n        this.userEmail = payload.email;\n\n        const res = await fetch(`${globalVariable}/get_user_id_by_email/${this.userEmail}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n\n        const data = await res.json();\n        if (res.ok) {\n          this.userId = data.users_id;\n          this.getProgress(this.userId);\n          this.getAppliedJobs(this.userId);\n        } else {\n          console.error(\"Failed to get users_id from email:\", data.message);\n        }\n      } catch (err) {\n        console.error(\"Error decoding token or fetching user ID:\", err);\n      }\n    },\n\n    async getProgress(usersId) {\n      try {\n        const res = await fetch(`${globalVariable}/progress/${usersId}`);\n        const data = await res.json();\n        if (res.ok) {\n          this.progress = Math.round(data.progress);\n        } else {\n          console.error(\"Progress fetch failed:\", data.message);\n        }\n      } catch (error) {\n        console.error(\"Error fetching progress:\", error);\n      }\n    },\n\n    async getAppliedJobs(usersId) {\n      try {\n        const res = await fetch(`${globalVariable}/applied_jobs/${usersId}`);\n        const data = await res.json();\n        if (res.ok) {\n          this.appliedJobs = data.map(job => {\n            const deadline = new Date(job.deadline_date);\n            const now = new Date();\n            job.status = deadline > now ? \"Pending\" : \"Expired\";\n            return job;\n          });\n        } else {\n          console.error(\"Failed to fetch applied jobs:\", data.message);\n        }\n      } catch (error) {\n        console.error(\"Error fetching applied jobs:\", error);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.other-div3 {\n  margin-bottom: 30px;\n}\n\n.applied-jobs {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));\n  gap: 20px;\n  margin-top: 20px;\n}\n\n.job-card {\n  background: #ffffff;\n  border: 1px solid #e0e0e0;\n  border-left: 6px solid #5F9EA0;\n  padding: 20px;\n  border-radius: 10px;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.06);\n  transition: transform 0.2s ease;\n}\n\n.job-card:hover {\n  transform: translateY(-4px);\n}\n.status-pending {\n  color: green;\n  font-weight: bold;\n}\n.status-expired {\n  color: red;\n  font-weight: bold;\n}\n\n.job-title {\n  color: #EA60A7;\n  font-size: 18px;\n  font-weight: 600;\n  margin-bottom: 10px;\n}\n\n.job-description {\n  font-size: 15px;\n  color: #333;\n  margin-bottom: 8px;\n  text-align: justify;\n}\n\n.job-location {\n  font-size: 14px;\n  color: #666;\n}\n\n.no-jobs-message {\n  text-align: center;\n  color: #999;\n  margin-top: 20px;\n}\n\n  .progress {\n            width: 100%;\n            max-width: 400px;\n            border: 1px solid #ccc;\n            border-radius: 5px;\n            overflow: hidden;\n        }\n        .progress-bar {\n            width:20px;\n            background-color: teal;\n            color: white;\n            text-align: center;\n            padding: 7px 0;\n            box-sizing: border-box;\n        }\n        .company-logo {\n            width: 60px;\n            height: 60px;\n            border-radius: 50%;\n            margin-right: 20px;\n        }\n\n        .row {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 10px;\n        }\n        .other-div1, .other-div2 {\n            flex: 1 1 100%;\n        }\n        @media (min-width: 768px) {\n            .other-div1, .other-div2 {\n                flex: 1 1 calc(50% - 10px);\n            }\n        }\n        .other-div3 {\n            width: 48%;\n            background-color: #fff;\n            box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.5);\n            border-radius: 10px;\n            margin-bottom: 1rem;\n            padding: 1rem;\n            box-sizing: border-box;\n        }\n        @media (max-width: 768px) {\n            .other-div3 {\n                width: 100%;\n            }\n        }\n  </style>\n  "],"mappings":";;;AAwFA,OAAOA,cAAa,MAAO,sBAAsB;AAEjD,SAASC,cAAa,QAAS,UAAU;AAEzC,eAAe;EACbC,IAAI,EAAE,kBAAkB;EACxBC,UAAU,EAAE;IACVH;EAEF,CAAC;EACDI,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,EAAE;MACbC,MAAM,EAAE,IAAI;MACZC,QAAQ,EAAE,CAAC;MACXC,WAAW,EAAE;IACf,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,uBAAuB,CAAC,CAAC;EAChC,CAAC;EACDC,OAAO,EAAE;IACP,MAAMD,uBAAuBA,CAAA,EAAG;MAC9B,MAAME,KAAI,GAAIC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;MACnD,IAAI,CAACF,KAAK,EAAE;MAEZ,IAAI;QACF,MAAMG,OAAM,GAAIC,IAAI,CAACC,KAAK,CAACC,IAAI,CAACN,KAAK,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrD,IAAI,CAACd,SAAQ,GAAIU,OAAO,CAACK,KAAK;QAE9B,MAAMC,GAAE,GAAI,MAAMC,KAAK,CAAC,GAAGrB,cAAc,yBAAyB,IAAI,CAACI,SAAS,EAAE,EAAE;UAClFkB,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUZ,KAAK;UAAG;QAC9C,CAAC,CAAC;QAEF,MAAMR,IAAG,GAAI,MAAMiB,GAAG,CAACI,IAAI,CAAC,CAAC;QAC7B,IAAIJ,GAAG,CAACK,EAAE,EAAE;UACV,IAAI,CAACpB,MAAK,GAAIF,IAAI,CAACuB,QAAQ;UAC3B,IAAI,CAACC,WAAW,CAAC,IAAI,CAACtB,MAAM,CAAC;UAC7B,IAAI,CAACuB,cAAc,CAAC,IAAI,CAACvB,MAAM,CAAC;QAClC,OAAO;UACLwB,OAAO,CAACC,KAAK,CAAC,oCAAoC,EAAE3B,IAAI,CAAC4B,OAAO,CAAC;QACnE;MACF,EAAE,OAAOC,GAAG,EAAE;QACZH,OAAO,CAACC,KAAK,CAAC,2CAA2C,EAAEE,GAAG,CAAC;MACjE;IACF,CAAC;IAED,MAAML,WAAWA,CAACM,OAAO,EAAE;MACzB,IAAI;QACF,MAAMb,GAAE,GAAI,MAAMC,KAAK,CAAC,GAAGrB,cAAc,aAAaiC,OAAO,EAAE,CAAC;QAChE,MAAM9B,IAAG,GAAI,MAAMiB,GAAG,CAACI,IAAI,CAAC,CAAC;QAC7B,IAAIJ,GAAG,CAACK,EAAE,EAAE;UACV,IAAI,CAACnB,QAAO,GAAI4B,IAAI,CAACC,KAAK,CAAChC,IAAI,CAACG,QAAQ,CAAC;QAC3C,OAAO;UACLuB,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAE3B,IAAI,CAAC4B,OAAO,CAAC;QACvD;MACF,EAAE,OAAOD,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAClD;IACF,CAAC;IAED,MAAMF,cAAcA,CAACK,OAAO,EAAE;MAC5B,IAAI;QACF,MAAMb,GAAE,GAAI,MAAMC,KAAK,CAAC,GAAGrB,cAAc,iBAAiBiC,OAAO,EAAE,CAAC;QACpE,MAAM9B,IAAG,GAAI,MAAMiB,GAAG,CAACI,IAAI,CAAC,CAAC;QAC7B,IAAIJ,GAAG,CAACK,EAAE,EAAE;UACV,IAAI,CAAClB,WAAU,GAAIJ,IAAI,CAACiC,GAAG,CAACC,GAAE,IAAK;YACjC,MAAMC,QAAO,GAAI,IAAIC,IAAI,CAACF,GAAG,CAACG,aAAa,CAAC;YAC5C,MAAMC,GAAE,GAAI,IAAIF,IAAI,CAAC,CAAC;YACtBF,GAAG,CAACK,MAAK,GAAIJ,QAAO,GAAIG,GAAE,GAAI,SAAQ,GAAI,SAAS;YACnD,OAAOJ,GAAG;UACZ,CAAC,CAAC;QACJ,OAAO;UACLR,OAAO,CAACC,KAAK,CAAC,+BAA+B,EAAE3B,IAAI,CAAC4B,OAAO,CAAC;QAC9D;MACF,EAAE,OAAOD,KAAK,EAAE;QACdD,OAAO,CAACC,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}