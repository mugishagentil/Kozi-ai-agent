{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelDynamic as _vModelDynamic, withDirectives as _withDirectives, vModelSelect as _vModelSelect, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-wrapper\",\n  id: \"main-wrapper\",\n  \"data-layout\": \"vertical\",\n  \"data-navbarbg\": \"skin6\",\n  \"data-sidebartype\": \"full\",\n  style: {\n    \"position\": \"absolute\",\n    \"top\": \"0\",\n    \"left\": \"0\",\n    \"right\": \"0\",\n    \"bottom\": \"0\",\n    \"z-index\": \"1\"\n  }\n};\nconst _hoisted_2 = {\n  class: \"body-wrapper\",\n  style: {\n    \"margin-top\": \"70px\",\n    \"margin-left\": \"270px\",\n    \"background\": \"white\",\n    \"min-height\": \"calc(100vh - 70px)\",\n    \"padding\": \"20px\",\n    \"overflow-y\": \"auto\",\n    \"max-height\": \"calc(100vh - 70px)\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"form-group row\"\n};\nconst _hoisted_4 = [\"for\"];\nconst _hoisted_5 = [\"type\", \"onUpdate:modelValue\", \"id\"];\nconst _hoisted_6 = {\n  class: \"col-md-6\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_IndexComponent = _resolveComponent(\"IndexComponent\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_IndexComponent), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_cache[5] || (_cache[5] = _createElementVNode(\"h5\", {\n    class: \"card-title fw-semibold mb-4\",\n    style: {\n      \"color\": \"#E960A6\"\n    }\n  }, [_createElementVNode(\"i\", {\n    class: \"ti ti-user-plus\"\n  }), _createTextVNode(\" Register New Job Provider\")], -1)), _createElementVNode(\"form\", {\n    onSubmit: _cache[1] || (_cache[1] = _withModifiers((...args) => $options.handleSubmit && $options.handleSubmit(...args), [\"prevent\"])),\n    class: \"mx-4\",\n    enctype: \"multipart/form-data\"\n  }, [_createElementVNode(\"div\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.personalFields, (field, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"col-md-6\",\n      key: index\n    }, [_createElementVNode(\"label\", {\n      for: field.model,\n      class: \"form-label\"\n    }, _toDisplayString(field.label), 9, _hoisted_4), _withDirectives(_createElementVNode(\"input\", {\n      type: field.type,\n      \"onUpdate:modelValue\": $event => $data.form[field.model] = $event,\n      class: \"form-control\",\n      id: field.model,\n      required: \"\"\n    }, null, 8, _hoisted_5), [[_vModelDynamic, $data.form[field.model]]])]);\n  }), 128)), _createElementVNode(\"div\", _hoisted_6, [_cache[3] || (_cache[3] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Gender\", -1)), _withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.gender = $event),\n    class: \"form-control\",\n    required: \"\"\n  }, _cache[2] || (_cache[2] = [_createElementVNode(\"option\", {\n    value: \"\",\n    disabled: \"\"\n  }, \"Select Gender\", -1), _createElementVNode(\"option\", {\n    value: \"Male\"\n  }, \"Male\", -1), _createElementVNode(\"option\", {\n    value: \"Female\"\n  }, \"Female\", -1), _createElementVNode(\"option\", {\n    value: \"Other\"\n  }, \"Other\", -1)]), 512), [[_vModelSelect, $data.form.gender]])])]), $data.message ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass(['alert', $data.messageType])\n  }, _toDisplayString($data.message), 3)) : _createCommentVNode(\"\", true), _cache[4] || (_cache[4] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary mb-3\"\n  }, \"Register\", -1))], 32)])])], 64);\n}","map":{"version":3,"names":["class","id","style","_createElementBlock","_Fragment","_createVNode","_component_IndexComponent","_createElementVNode","_hoisted_1","_hoisted_2","_createTextVNode","onSubmit","_cache","_withModifiers","args","$options","handleSubmit","enctype","_hoisted_3","_renderList","$data","personalFields","field","index","key","for","model","label","_hoisted_4","type","$event","form","required","_hoisted_5","_hoisted_6","gender","value","disabled","message","_normalizeClass","messageType","_createCommentVNode"],"sources":["/Users/gentil/Desktop/Kozi-ai-agent/src/views/admin/RegisterAgent.vue"],"sourcesContent":["<template>\n  <IndexComponent />\n  <div class=\"page-wrapper\" id=\"main-wrapper\" data-layout=\"vertical\" data-navbarbg=\"skin6\" data-sidebartype=\"full\" style=\"position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 1;\">\n    <div class=\"body-wrapper\" style=\"margin-top: 70px; margin-left: 270px; background: white; min-height: calc(100vh - 70px); padding: 20px; overflow-y: auto; max-height: calc(100vh - 70px);\">\n       <h5 class=\"card-title fw-semibold mb-4\" style=\"color: #E960A6;\"><i class=\"ti ti-user-plus\"></i>  Register New Job Provider</h5>\n\n      <form @submit.prevent=\"handleSubmit\" class=\"mx-4\" enctype=\"multipart/form-data\">\n        \n\n        <div class=\"form-group row\">\n          <div class=\"col-md-6\" v-for=\"(field, index) in personalFields\" :key=\"index\">\n            <label :for=\"field.model\" class=\"form-label\">{{ field.label }}</label>\n            <input\n              :type=\"field.type\"\n              v-model=\"form[field.model]\"\n              class=\"form-control\"\n              :id=\"field.model\"\n              required\n            />\n          </div>\n\n          <div class=\"col-md-6\">\n            <label class=\"form-label\">Gender</label>\n            <select v-model=\"form.gender\" class=\"form-control\" required>\n              <option value=\"\" disabled>Select Gender</option>\n              <option value=\"Male\">Male</option>\n              <option value=\"Female\">Female</option>\n              <option value=\"Other\">Other</option>\n            </select>\n          </div>\n        </div>\n        <div v-if=\"message\" :class=\"['alert', messageType]\">{{ message }}</div>\n\n        <!-- <div class=\"mt-3 text-muted\">\n          <strong>Role ID:</strong> {{ form.role_id || 'Not loaded' }}\n        </div> -->\n\n        <button type=\"submit\" class=\"btn btn-primary mb-3\">Register</button>\n      </form>\n    </div>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\nimport { globalVariable } from \"@/global\";\nimport IndexComponent from \"./IndexComponent.vue\";\n\nexport default {\n  name: \"RegisterJobProviderComponent\",\n  components: { IndexComponent },\n  data() {\n    return {\n      form: {\n        role_id: null,\n        email: \"\",\n        password: \"\",\n        first_name: \"\",\n        last_name: \"\",\n        country: \"\",\n        telephone: \"\",\n        province: \"\",\n        district: \"\",\n        sector: \"\",\n        cell: \"\",\n        village: \"\",\n        gender: \"\",\n      },\n      message: null,\n      messageType: null,\n      personalFields: [\n        { label: \"Email\", model: \"email\", type: \"text\" },\n        { label: \"Password\", model: \"password\", type: \"password\" },\n        { label: \"First Name\", model: \"first_name\", type: \"text\" },\n        { label: \"Last Name\", model: \"last_name\", type: \"text\" },\n        { label: \"Country\", model: \"country\", type: \"text\" },\n        { label: \"Province\", model: \"province\", type: \"text\" },\n        { label: \"District\", model: \"district\", type: \"text\" },\n        { label: \"Sector\", model: \"sector\", type: \"text\" },\n        { label: \"Cell\", model: \"cell\", type: \"text\" },\n        { label: \"Village\", model: \"village\", type: \"text\" },\n        { label: \"Telephone\", model: \"telephone\", type: \"text\" },\n      ],\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      const formData = new FormData();\n      Object.entries(this.form).forEach(([key, value]) => {\n        formData.append(key, value);\n      });\n\n      try {\n        const response = await fetch(`${globalVariable}/admin/add_agent`, {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"adminToken\")}`,\n          },\n          body: formData,\n        });\n\n        const result = await response.json();\n        if (response.ok) {\n          this.message = result.message || \"Agent registered successfully.\";\n          this.messageType = \"alert-success\";\n        } else {\n          this.message = result.message || \"Failed to register job provider.\";\n          this.messageType = \"alert-danger\";\n        }\n      } catch (error) {\n        console.error(\"Error registering job provider:\", error);\n        this.message = \"An error occurred while submitting the form.\";\n        this.messageType = \"alert-danger\";\n      }\n    },\n\n    async loadRoleId() {\n      try {\n        const token = localStorage.getItem(\"adminToken\");\n        const res = await axios.get(`${globalVariable}/admin/role/agent`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        this.form.role_id = res.data.role_id || 3;\n      } catch (err) {\n        console.error(\"Failed to fetch role_id:\", err);\n        this.form.role_id = 3;\n      }\n    },\n  },\n  mounted() {\n    this.loadRoleId();\n  },\n};\n</script>\n\n\n      <style scoped>\n      .modal-overlay {\n         position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n        }\n        \n        /* Modal content styling */\n        .modal-content {\n          background-color: white;\n          padding: 20px;\n          border-radius: 8px;\n          text-align: center;\n          width: 300px;\n        }\n      \n        .container-fluid {\n          max-width: 800px;\n          margin: auto;\n          padding: 20px;\n          background-color: #ffffff;\n          border-radius: 8px;\n          box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);\n        }\n        \n        h5 {\n          color: #333;\n          margin-bottom: 20px;\n        }\n        .custom-select {\n          width: 100%;\n          padding: 15px;\n          height: 50px;\n          border: 1px solid #ccc;\n          border-radius: 5px;\n          box-sizing: border-box;\n          transition: border-color 0.3s, box-shadow 0.3s;\n          font-size: 16px;\n    \n        }\n        .form-control {\n          width: 100%;\n          padding: 15px;\n          height: 50px;\n          border: 1px solid #ccc;\n          border-radius: 5px;\n          box-sizing: border-box;\n          transition: border-color 0.3s, box-shadow 0.3s;\n          font-size: 16px;\n        }\n        \n        .form-control:focus {\n          border-color: #E960A6;\n          box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);\n          outline: none;\n        }\n        \n        .form-label {\n          font-weight: bold;\n          margin-bottom: 5px;\n          display: block;\n        }\n        \n        .btn-primary {\n          background-color: #E960A6;\n          color: white;\n        \n        }\n        \n        .btn-primary:hover {\n          background-color: #E960A6;\n          color: teal;\n        }\n        \n        .form-group {\n          margin-bottom: 15px;\n        }\n        \n        </style>\n        "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}