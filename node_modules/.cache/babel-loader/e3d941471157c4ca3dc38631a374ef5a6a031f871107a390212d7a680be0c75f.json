{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, normalizeClass as _normalizeClass, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, renderList as _renderList, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"page-wrapper\",\n  id: \"main-wrapper\",\n  \"data-layout\": \"vertical\",\n  \"data-navbarbg\": \"skin6\",\n  \"data-sidebartype\": \"full\",\n  \"data-sidebar-description\": \"fixed\",\n  \"data-header-description\": \"fixed\"\n};\nconst _hoisted_2 = {\n  class: \"body-wrapper\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"card-body\"\n};\nconst _hoisted_4 = {\n  class: \"card-title fw-semibold mb-4\",\n  style: {\n    \"color\": \"#E960A6\"\n  }\n};\nconst _hoisted_5 = {\n  class: \"form-group row\"\n};\nconst _hoisted_6 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"mb-2\"\n};\nconst _hoisted_8 = [\"src\"];\nconst _hoisted_9 = [\"required\"];\nconst _hoisted_10 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_11 = {\n  key: 0,\n  class: \"mb-2\"\n};\nconst _hoisted_12 = [\"src\"];\nconst _hoisted_13 = [\"required\"];\nconst _hoisted_14 = {\n  class: \"form-group row\"\n};\nconst _hoisted_15 = {\n  class: \"col-md-12\"\n};\nconst _hoisted_16 = [\"disabled\"];\nconst _hoisted_17 = {\n  key: 0,\n  class: \"spinner-border spinner-border-sm me-2\",\n  role: \"status\",\n  \"aria-hidden\": \"true\"\n};\nconst _hoisted_18 = {\n  key: 1,\n  class: \"modal-overlay\"\n};\nconst _hoisted_19 = {\n  class: \"modal-content\"\n};\nconst _hoisted_20 = {\n  key: 2,\n  class: \"text-muted px-4\"\n};\nconst _hoisted_21 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_22 = {\n  class: \"table table-bordered\"\n};\nconst _hoisted_23 = [\"src\"];\nconst _hoisted_24 = [\"src\"];\nconst _hoisted_25 = {\n  style: {\n    \"padding\": \"10px\"\n  }\n};\nconst _hoisted_26 = [\"onClick\", \"disabled\"];\nconst _hoisted_27 = [\"onClick\", \"disabled\"];\nconst _hoisted_28 = {\n  class: \"mt-3\"\n};\nconst _hoisted_29 = {\n  class: \"pagination justify-content-center\"\n};\nconst _hoisted_30 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_IndexComponent = _resolveComponent(\"IndexComponent\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_IndexComponent), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [$data.userEmail ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3)) : _createCommentVNode(\"\", true), _createElementVNode(\"h5\", _hoisted_4, [_cache[8] || (_cache[8] = _createElementVNode(\"i\", {\n    class: \"ti ti-briefcase\"\n  }, null, -1)), _createTextVNode(\" \" + _toDisplayString($data.form.id ? \"Update Advert\" : \"Add Advert\"), 1)]), _createElementVNode(\"form\", {\n    class: \"mx-4\",\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.submitForm && $options.submitForm(...args), [\"prevent\"]))\n  }, [$data.status.message ? (_openBlock(), _createElementBlock(\"div\", {\n    key: 0,\n    class: _normalizeClass(['alert mt-3', $data.status.success ? 'alert-success' : 'alert-danger'])\n  }, _toDisplayString($data.status.message), 3)) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_cache[9] || (_cache[9] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Logo\", -1)), $data.form.logo && typeof $data.form.logo === 'string' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [_createElementVNode(\"img\", {\n    src: $data.uploadsUrl + $data.form.logo,\n    alt: \"Current Logo\",\n    class: \"custom-job-logo\",\n    width: \"150\"\n  }, null, 8, _hoisted_8)])) : _createCommentVNode(\"\", true), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[0] || (_cache[0] = e => $options.handleFileUpload(e, 'logo')),\n    class: \"form-control\",\n    required: !$data.form.id\n  }, null, 40, _hoisted_9)]), _createElementVNode(\"div\", _hoisted_10, [_cache[10] || (_cache[10] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Mobile Ad\", -1)), $data.form.mobile_ad && typeof $data.form.mobile_ad === 'string' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_11, [_createElementVNode(\"img\", {\n    src: $data.uploadsUrl + $data.form.mobile_ad,\n    alt: \"Current Mobile Ad\",\n    class: \"custom-job-logo\",\n    width: \"150\"\n  }, null, 8, _hoisted_12)])) : _createCommentVNode(\"\", true), _createElementVNode(\"input\", {\n    type: \"file\",\n    onChange: _cache[1] || (_cache[1] = e => $options.handleFileUpload(e, 'mobile_ad')),\n    class: \"form-control\",\n    required: !$data.form.id\n  }, null, 40, _hoisted_13)])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_cache[11] || (_cache[11] = _createElementVNode(\"label\", {\n    class: \"form-label\"\n  }, \"Link\", -1)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.form.link = $event),\n    class: \"form-control\"\n  }, null, 512), [[_vModelText, $data.form.link]])])]), _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"btn btn-primary mt-3\",\n    disabled: !$options.isAdmin || $data.isSubmitting\n  }, [$data.isSubmitting ? (_openBlock(), _createElementBlock(\"span\", _hoisted_17)) : _createCommentVNode(\"\", true), _createTextVNode(\" \" + _toDisplayString($data.isSubmitting ? \"Submitting...\" : $data.form.id ? \"Update Advert\" : \"Submit Advert\"), 1)], 8, _hoisted_16)], 32), $data.showModal ? (_openBlock(), _createElementBlock(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_cache[13] || (_cache[13] = _createElementVNode(\"h5\", null, \"Are you sure you want to delete this advert?\", -1)), _createElementVNode(\"div\", null, [_createElementVNode(\"button\", {\n    class: \"btn btn-danger mt-3\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.confirmDeleteJob && $options.confirmDeleteJob(...args))\n  }, \"Yes, Delete\"), _cache[12] || (_cache[12] = _createTextVNode(\" Â  \")), _createElementVNode(\"button\", {\n    class: \"btn btn-cancel mt-3\",\n    style: {\n      \"background-color\": \"teal\",\n      \"color\": \"white\"\n    },\n    onClick: _cache[5] || (_cache[5] = (...args) => $options.closeModal && $options.closeModal(...args))\n  }, \" Cancel \")])])])) : _createCommentVNode(\"\", true), _cache[15] || (_cache[15] = _createElementVNode(\"hr\", {\n    class: \"my-4\"\n  }, null, -1)), _cache[16] || (_cache[16] = _createElementVNode(\"h5\", {\n    class: \"fw-semibold mb-3\"\n  }, \"Your Adverts\", -1)), $options.filteredJobs.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_20, \"No adverts available yet.\")) : _createCommentVNode(\"\", true), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"table\", _hoisted_22, [_cache[14] || (_cache[14] = _createElementVNode(\"thead\", {\n    class: \"table-light\"\n  }, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", null, \"Id\"), _createElementVNode(\"th\", null, \"Description\"), _createElementVNode(\"th\", null, \"Logo\"), _createElementVNode(\"th\", null, \"Mobile Ad\"), _createElementVNode(\"th\", null, \"Action\")])], -1)), _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedJobs, (job, index) => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: job.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(($data.currentPage - 1) * $data.itemsPerPage + index + 1), 1), _createElementVNode(\"td\", null, _toDisplayString(job.link), 1), _createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: $data.uploadsUrl + job.logo,\n      alt: \"Logo\",\n      class: \"custom-job-logo\",\n      width: \"100\"\n    }, null, 8, _hoisted_23)]), _createElementVNode(\"td\", null, [_createElementVNode(\"img\", {\n      src: $data.uploadsUrl + job.mobile_ad,\n      alt: \"Mobile Ad\",\n      class: \"custom-job-logo\",\n      width: \"100\"\n    }, null, 8, _hoisted_24)]), _createElementVNode(\"td\", _hoisted_25, [_createElementVNode(\"button\", {\n      class: \"btn btn-primary btn-sm me-2\",\n      onClick: $event => $options.editJob(job),\n      disabled: !$options.isAdmin\n    }, \"Edit\", 8, _hoisted_26), _createElementVNode(\"button\", {\n      class: \"btn btn-cancel btn-sm\",\n      onClick: $event => $options.openModal(job.id),\n      disabled: !$options.isAdmin\n    }, \"Delete\", 8, _hoisted_27)])]);\n  }), 128))])])]), _createElementVNode(\"nav\", _hoisted_28, [_createElementVNode(\"ul\", _hoisted_29, [_createElementVNode(\"li\", {\n    class: _normalizeClass([\"page-item\", {\n      disabled: $data.currentPage === 1\n    }])\n  }, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    onClick: _cache[6] || (_cache[6] = $event => $options.changePage($data.currentPage - 1))\n  }, \"Previous\")], 2), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.totalPages, page => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: page,\n      class: _normalizeClass([\"page-item\", {\n        active: $data.currentPage === page\n      }])\n    }, [_createElementVNode(\"button\", {\n      class: \"page-link\",\n      onClick: $event => $options.changePage(page)\n    }, _toDisplayString(page), 9, _hoisted_30)], 2);\n  }), 128)), _createElementVNode(\"li\", {\n    class: _normalizeClass([\"page-item\", {\n      disabled: $data.currentPage === $options.totalPages\n    }])\n  }, [_createElementVNode(\"button\", {\n    class: \"page-link\",\n    onClick: _cache[7] || (_cache[7] = $event => $options.changePage($data.currentPage + 1))\n  }, \"Next\")], 2)])])])])]);\n}","map":{"version":3,"names":["class","id","key","style","role","_createElementBlock","_createVNode","_component_IndexComponent","_createElementVNode","_hoisted_1","_hoisted_2","$data","userEmail","_hoisted_3","_createCommentVNode","_hoisted_4","_createTextVNode","_toDisplayString","form","onSubmit","_cache","_withModifiers","args","$options","submitForm","status","message","_normalizeClass","success","_hoisted_5","_hoisted_6","logo","_hoisted_7","src","uploadsUrl","alt","width","_hoisted_8","type","onChange","e","handleFileUpload","required","_hoisted_9","_hoisted_10","mobile_ad","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","$event","link","disabled","isAdmin","isSubmitting","_hoisted_17","_hoisted_16","showModal","_hoisted_18","_hoisted_19","onClick","confirmDeleteJob","closeModal","filteredJobs","length","_hoisted_20","_hoisted_21","_hoisted_22","_Fragment","_renderList","paginatedJobs","job","index","currentPage","itemsPerPage","_hoisted_23","_hoisted_24","_hoisted_25","editJob","_hoisted_26","openModal","_hoisted_27","_hoisted_28","_hoisted_29","changePage","totalPages","page","active","_hoisted_30"],"sources":["/Users/gentil/Desktop/Kozi-ai-agent/src/views/admin/AdvertComponent.vue"],"sourcesContent":["<template>\n  <div>\n    <IndexComponent />\n    <div class=\"page-wrapper\" id=\"main-wrapper\" data-layout=\"vertical\" data-navbarbg=\"skin6\"\n      data-sidebartype=\"full\" data-sidebar-description=\"fixed\" data-header-description=\"fixed\">\n      <div class=\"body-wrapper\">\n        <div v-if=\"userEmail\" class=\"card-body\"></div>\n\n        <h5  class=\"card-title fw-semibold mb-4\" style=\"color: #E960A6;\">\n          <i class=\"ti ti-briefcase\"></i>\n          {{ form.id ? \"Update Advert\" : \"Add Advert\" }}\n        </h5>\n\n        \n\n        <form class=\"mx-4\" @submit.prevent=\"submitForm\">\n          <div v-if=\"status.message\" :class=\"['alert mt-3', status.success ? 'alert-success' : 'alert-danger']\">\n            {{ status.message }}\n          </div>\n\n          <div class=\"form-group row\">\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Logo</label>\n              <div v-if=\"form.logo && typeof form.logo === 'string'\" class=\"mb-2\">\n                <img :src=\"uploadsUrl + form.logo\" alt=\"Current Logo\" class=\"custom-job-logo\" width=\"150\" />\n              </div>\n              <input type=\"file\" @change=\"e => handleFileUpload(e, 'logo')\" class=\"form-control\" :required=\"!form.id\" />\n            </div>\n\n            <div class=\"col-md-6\">\n              <label class=\"form-label\">Mobile Ad</label>\n              <div v-if=\"form.mobile_ad && typeof form.mobile_ad === 'string'\" class=\"mb-2\">\n                <img :src=\"uploadsUrl + form.mobile_ad\" alt=\"Current Mobile Ad\" class=\"custom-job-logo\" width=\"150\" />\n              </div>\n              <input type=\"file\" @change=\"e => handleFileUpload(e, 'mobile_ad')\" class=\"form-control\" :required=\"!form.id\" />\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <div class=\"col-md-12\">\n              <label class=\"form-label\">Link</label>\n              <input type=\"text\" v-model=\"form.link\" class=\"form-control\">\n            </div>\n          </div>\n          <button type=\"submit\" class=\"btn btn-primary mt-3\" :disabled=\"!isAdmin || isSubmitting\">\n            <span v-if=\"isSubmitting\" class=\"spinner-border spinner-border-sm me-2\" role=\"status\"\n              aria-hidden=\"true\"></span>\n            {{ isSubmitting ? \"Submitting...\" : form.id ? \"Update Advert\" : \"Submit Advert\" }}\n          </button>\n        </form>\n\n        <!-- Confirmation Modal -->\n        <div v-if=\"showModal\" class=\"modal-overlay\">\n          <div class=\"modal-content\">\n            <h5>Are you sure you want to delete this advert?</h5>\n            <div>\n              <button class=\"btn btn-danger mt-3\" @click=\"confirmDeleteJob\">Yes, Delete</button>\n              &nbsp;\n              <button class=\"btn btn-cancel mt-3\" style=\"background-color: teal; color: white;\" @click=\"closeModal\" >\n                Cancel\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <hr class=\"my-4\" />\n        <h5 class=\"fw-semibold mb-3\">Your Adverts</h5>\n\n        <div v-if=\"filteredJobs.length === 0\" class=\"text-muted px-4\">No adverts available yet.</div>\n\n        <div class=\"table-responsive\">\n          <table class=\"table table-bordered\">\n            <thead class=\"table-light\">\n              <tr>\n                <th>Id</th>\n                <th>Description</th>\n                <th>Logo</th>\n                <th>Mobile Ad</th>\n                <th>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(job, index) in paginatedJobs\" :key=\"job.id\">\n                <td>{{ (currentPage - 1) * itemsPerPage + index + 1 }}</td>\n                <td>{{ job.link }}</td>\n                <td><img :src=\"uploadsUrl + job.logo\" alt=\"Logo\" class=\"custom-job-logo\" width=\"100\" /></td>\n                <td><img :src=\"uploadsUrl + job.mobile_ad\" alt=\"Mobile Ad\" class=\"custom-job-logo\" width=\"100\" /></td>\n                <td style=\"padding: 10px;\">\n                  <button class=\"btn btn-primary btn-sm me-2\" @click=\"editJob(job)\" :disabled=\"!isAdmin\">Edit</button>\n                  <button class=\"btn btn-cancel btn-sm\" @click=\"openModal(job.id)\" :disabled=\"!isAdmin\">Delete</button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <!-- Pagination -->\n        <nav class=\"mt-3\">\n          <ul class=\"pagination justify-content-center\">\n            <li class=\"page-item\" :class=\"{ disabled: currentPage === 1 }\">\n              <button class=\"page-link\" @click=\"changePage(currentPage - 1)\">Previous</button>\n            </li>\n            <li v-for=\"page in totalPages\" :key=\"page\" class=\"page-item\" :class=\"{ active: currentPage === page }\">\n              <button class=\"page-link\" @click=\"changePage(page)\">{{ page }}</button>\n            </li>\n            <li class=\"page-item\" :class=\"{ disabled: currentPage === totalPages }\">\n              <button class=\"page-link\" @click=\"changePage(currentPage + 1)\">Next</button>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport IndexComponent from \"./IndexComponent.vue\";\nimport { globalVariable } from \"@/global\";\n\nexport default {\n  name: \"MainWrapper\",\n  components: { IndexComponent },\n  data() {\n    return {\n      uploadsUrl: globalVariable + \"/uploads/logo/\",\n      form: {\n        id: null,\n        link: \"\",\n        logo: \"\",\n        mobile_ad: \"\",\n      },\n      jobs: [],\n      isSubmitting: false,\n      status: {\n        success: false,\n        message: \"\",\n      },\n      userEmail: \"\",\n      userId: \"\",\n      showModal: false,\n      selectedJobId: null,\n\n      // Pagination\n      searchQuery: \"\",\n      currentPage: 1,\n      itemsPerPage: 10,\n    };\n  },\n  computed: {\n    isAdmin() {\n    return this.userEmail.toLowerCase() === \"admin@kozi.rw\";\n  },\n    filteredJobs() {\n      return this.jobs.filter((job) => {\n        return job.link?.toLowerCase().includes(this.searchQuery.toLowerCase());\n      });\n    },\n    totalPages() {\n      return Math.ceil(this.filteredJobs.length / this.itemsPerPage);\n    },\n    paginatedJobs() {\n      const start = (this.currentPage - 1) * this.itemsPerPage;\n      return this.filteredJobs.slice(start, start + this.itemsPerPage);\n    },\n  },\n  mounted() {\n    this.userEmail = localStorage.getItem(\"userEmail\") || \"\";\n    if (this.userEmail) {\n      this.getUserIdFromEmail();\n    }\n  },\n  methods: {\n    handleFileUpload(event, type) {\n      this.form[type] = event.target.files[0];\n    },\n    openModal(id) {\n      this.selectedJobId = id;\n      this.showModal = true;\n    },\n    closeModal() {\n      this.showModal = false;\n      this.selectedJobId = null;\n    },\n    changePage(page) {\n      if (page >= 1 && page <= this.totalPages) {\n        this.currentPage = page;\n      }\n    },\n    async confirmDeleteJob() {\n      const token = localStorage.getItem(\"adminToken\");\n      try {\n        const res = await fetch(`${globalVariable}/admin/advert_delete/${this.selectedJobId}`, {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n        });\n        const result = await res.json();\n\n        if (res.ok) {\n          this.status = {\n            success: true,\n            message: result.message || \"Advert deleted successfully.\",\n          };\n          this.fetchJobsByUser();\n        } else {\n          this.status = {\n            success: false,\n            message: result.message || \"Failed to delete advert.\",\n          };\n        }\n      } catch (err) {\n        console.error(\"Delete error:\", err);\n        this.status = {\n          success: false,\n          message: \"Unexpected error occurred while deleting.\",\n        };\n      } finally {\n        this.closeModal();\n      }\n    },\n    async fetchJobsByUser() {\n      try {\n        const token = localStorage.getItem(\"adminToken\");\n        const res = await fetch(`${globalVariable}/admin/select_advert`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        if (!res.ok) throw new Error(\"Failed to fetch adverts\");\n        const data = await res.json();\n        this.jobs = data;\n      } catch (err) {\n        console.error(\"Error fetching adverts:\", err);\n      }\n    },\n    async submitForm() {\n      this.isSubmitting = true;\n      this.status.message = \"\";\n\n      try {\n        const formData = new FormData();\n        formData.append(\"link\", this.form.link);\n        if (this.form.logo && typeof this.form.logo !== \"string\") {\n          formData.append(\"logo\", this.form.logo);\n        }\n        if (this.form.mobile_ad && typeof this.form.mobile_ad !== \"string\") {\n          formData.append(\"mobile_ad\", this.form.mobile_ad);\n        }\n\n        const token = localStorage.getItem(\"adminToken\");\n\n        const url = this.form.id\n          ? `${globalVariable}/admin/update_advert/${this.form.id}`\n          : `${globalVariable}/admin/add_advert`;\n\n        const method = this.form.id ? \"PUT\" : \"POST\";\n\n        const response = await fetch(url, {\n          method,\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          body: formData,\n        });\n\n        const result = await response.json();\n\n        if (response.ok) {\n          this.status = {\n            success: true,\n            message: result.message || (this.form.id ? \"Advert updated!\" : \"Advert added!\"),\n          };\n\n          this.form = { id: null, link: \"\", logo: \"\", mobile_ad: \"\" };\n          this.fetchJobsByUser();\n        } else {\n          this.status = {\n            success: false,\n            message: result.message || \"Failed to submit advert.\",\n          };\n        }\n      } catch (err) {\n        console.error(\"Error submitting advert:\", err);\n        this.status = {\n          success: false,\n          message: \"Unexpected error occurred.\",\n        };\n      } finally {\n        this.isSubmitting = false;\n      }\n    },\n    editJob(job) {\n      this.form = {\n        id: job.id,\n        link: job.link,\n        logo: job.logo,\n        mobile_ad: job.mobile_ad,\n      };\n      window.scrollTo({ top: 0, behavior: \"smooth\" });\n    },\n    async getUserIdFromEmail() {\n      const token = localStorage.getItem(\"adminToken\");\n      if (!token) return;\n\n      try {\n        const payload = JSON.parse(atob(token.split(\".\")[1]));\n        if (!this.userEmail) this.userEmail = payload.email;\n\n        const res = await fetch(`${globalVariable}/get_user_id_by_email/${this.userEmail}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        const data = await res.json();\n\n        if (res.ok) {\n          this.userId = data.users_id;\n          this.fetchJobsByUser();\n        } else {\n          this.status = {\n            success: false,\n            message: data.message || \"Unable to get user ID.\",\n          };\n        }\n      } catch (err) {\n        console.error(\"Error getting users_id:\", err);\n        this.status = {\n          success: false,\n          message: \"Failed to fetch user ID.\",\n        };\n      }\n    },\n  },\n};\n</script>\n\n\n\n\n\n\n\n\n\n\n<style scoped>\n\n.btn-cancel {\n  background-color: teal;\n  color: white;\n}\n\n.btn-cancel:hover {\n  background-color: teal;\n  color: #E960A6;\n}\n.page-item.active .page-link {\n  background-color: #E960A6;\n  color: white;\n  border-color: #E960A6;\n}\n\n.page-link {\n  border-radius: 4px;\n  padding: 0.4rem 0.75rem;\n  cursor: pointer;\n  color:#336Cb6\n}\n      .modal-overlay {\n         position: fixed;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          background: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n        }\n        \n        /* Modal content styling */\n        .modal-content {\n          background-color: white;\n          padding: 20px;\n          border-radius: 8px;\n          text-align: center;\n          width: 300px;\n        }\n      \n        .container-fluid {\n          max-width: 800px;\n          margin: auto;\n          padding: 20px;\n          background-color: #ffffff;\n          border-radius: 8px;\n          box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);\n        }\n        \n        h5 {\n          color: #333;\n          margin-bottom: 20px;\n        }\n        .custom-select {\n          width: 100%;\n          padding: 15px;\n          height: 50px;\n          border: 1px solid #ccc;\n          border-radius: 5px;\n          box-sizing: border-box;\n          transition: border-color 0.3s, box-shadow 0.3s;\n          font-size: 16px;\n    \n        }\n        \n.highlight-teal {\n  background-color: #20c997;\n  color: white;\n  padding: 0 2px;\n  border-radius: 3px;\n}\n.form-control {\n          width: 100%;\n          padding: 15px;\n          height: 50px;\n          border: 1px solid #ccc;\n          border-radius: 5px;\n          box-sizing: border-box;\n          transition: border-color 0.3s, box-shadow 0.3s;\n          font-size: 16px;\n        }\n        \n        .form-control:focus {\n          border-color: #E960A6;\n          box-shadow: 0 0 5px rgba(0, 123, 255, 0.5);\n          outline: none;\n        }\n        \n        .form-label {\n          font-weight: bold;\n          margin-bottom: 5px;\n          display: block;\n        }\n        \n        .btn-primary {\n          background-color: #E960A6;\n          color: white;\n        \n        }\n        \n        .btn-primary:hover {\n          background-color: #E960A6;\n          color: teal;\n        }\n        \n        .form-group {\n          margin-bottom: 15px;\n        }\n        \n        </style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}