{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app-header\"\n};\nconst _hoisted_2 = {\n  class: \"navbar navbar-expand-lg navbar-light px-3 fixed-top\",\n  style: {\n    \"background-color\": \"white\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"navbar-nav\"\n};\nconst _hoisted_4 = {\n  class: \"nav-item d-block d-xl-none\"\n};\nconst _hoisted_5 = {\n  class: \"navbar-collapse justify-content-end px-0\",\n  id: \"navbarNav\"\n};\nconst _hoisted_6 = {\n  class: \"navbar-nav flex-row ms-auto align-items-center justify-content-end\"\n};\nconst _hoisted_7 = {\n  key: 0,\n  class: \"nav-item me-3\"\n};\nconst _hoisted_8 = {\n  class: \"nav-item dropdown\"\n};\nconst _hoisted_9 = {\n  class: \"nav-link nav-icon-hover\",\n  href: \"javascript:void(0)\",\n  id: \"userDropdown\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"dropdown-menu dropdown-menu-end dropdown-menu-animate-up\",\n  \"aria-labelledby\": \"userDropdown\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"header\", _hoisted_1, [_createElementVNode(\"nav\", _hoisted_2, [_createElementVNode(\"ul\", _hoisted_3, [_createElementVNode(\"li\", _hoisted_4, [_createElementVNode(\"a\", {\n    class: \"nav-link sidebartoggler nav-icon-hover\",\n    href: \"javascript:void(0)\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('toggle-sidebar')),\n    title: \"Toggle Sidebar\"\n  }, _cache[3] || (_cache[3] = [_createElementVNode(\"i\", {\n    class: \"ti ti-menu-2\"\n  }, null, -1)]))])]), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"ul\", _hoisted_6, [$data.userEmail ? (_openBlock(), _createElementBlock(\"li\", _hoisted_7, _cache[4] || (_cache[4] = [_createElementVNode(\"div\", {\n    class: \"d-flex flex-column text-end\"\n  }, null, -1)]))) : _createCommentVNode(\"\", true), _createElementVNode(\"li\", _hoisted_8, [_createElementVNode(\"a\", _hoisted_9, [_createElementVNode(\"img\", {\n    src: $data.uploadsUrl + $data.image,\n    onError: _cache[1] || (_cache[1] = $event => $options.onLogoError($event)),\n    alt: \"User Profile\",\n    class: \"rounded-circle\",\n    width: \"35\",\n    height: \"35\"\n  }, null, 40, _hoisted_10)]), _createElementVNode(\"ul\", _hoisted_11, [_createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/dashboard/View-profile\",\n    class: \"dropdown-item d-flex align-items-center\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createElementVNode(\"i\", {\n      class: \"ti ti-user fs-6 me-2\"\n    }, null, -1), _createTextVNode(\" My Profile \")])),\n    _: 1\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/dashboard/change-password\",\n    class: \"dropdown-item d-flex align-items-center\"\n  }, {\n    default: _withCtx(() => _cache[6] || (_cache[6] = [_createElementVNode(\"i\", {\n      class: \"fa-solid fa-key me-2\"\n    }, null, -1), _createTextVNode(\" Credentials \")])),\n    _: 1\n  })]), _createElementVNode(\"li\", null, [_createVNode(_component_router_link, {\n    to: \"/dashboard/settings\",\n    class: \"dropdown-item d-flex align-items-center\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createElementVNode(\"i\", {\n      class: \"fa-solid fa-key me-2\"\n    }, null, -1), _createTextVNode(\" Settings \")])),\n    _: 1\n  })]), _createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    href: \"javascript:void(0)\",\n    class: \"dropdown-item\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args))\n  }, _cache[8] || (_cache[8] = [_createElementVNode(\"i\", {\n    class: \"ti ti-square-arrow-left me-2\",\n    style: {\n      \"width\": \"2rem\"\n    }\n  }, null, -1), _createTextVNode(\" Logout \")]))])])])])])])]);\n}","map":{"version":3,"names":["class","style","id","key","href","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","onClick","_cache","$event","_ctx","$emit","title","_hoisted_5","_hoisted_6","$data","userEmail","_hoisted_7","_createCommentVNode","_hoisted_8","_hoisted_9","src","uploadsUrl","image","onError","$options","onLogoError","alt","width","height","_hoisted_10","_hoisted_11","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","args","logout"],"sources":["/Users/gentil/Desktop/Kozi-ai-agent/src/views/jobseeker/HeaderComponent.vue"],"sourcesContent":["<template>\n  <header class=\"app-header\">\n    <nav class=\"navbar navbar-expand-lg navbar-light px-3 fixed-top\" style=\"background-color: white;\">\n      <ul class=\"navbar-nav\">\n        <!-- Sidebar toggle visible only on small screens -->\n        <li class=\"nav-item d-block d-xl-none\">\n          <a\n            class=\"nav-link sidebartoggler nav-icon-hover\"\n            href=\"javascript:void(0)\"\n            @click=\"$emit('toggle-sidebar')\"\n            title=\"Toggle Sidebar\"\n          >\n            <i class=\"ti ti-menu-2\"></i>\n          </a>\n        </li>\n      </ul>\n\n      <div class=\"navbar-collapse justify-content-end px-0\" id=\"navbarNav\">\n        <ul class=\"navbar-nav flex-row ms-auto align-items-center justify-content-end\">\n          <!-- User Info Display -->\n          <li class=\"nav-item me-3\" v-if=\"userEmail\">\n            <div class=\"d-flex flex-column text-end\">\n              <!-- <small class=\"text-muted mb-0\"><strong>Name:</strong> {{ firstName }} {{ lastName }}</small>\n              <small class=\"text-muted mb-0\"><strong>Image:</strong> {{ image }}</small>\n              <img :src=\"uploadsUrl +image\" alt=\"Current Logo\" class=\"custom-job-logo\" width=\"150\" /> -->\n        <!-- <small class=\"text-muted mb-0\"><strong>Email:</strong> {{ userEmail }}</small>\n              <small class=\"text-muted\"><strong>ID:</strong> {{ userId }}</small> -->\n            </div>\n          </li>\n          \n          <!-- User dropdown -->\n          <li class=\"nav-item dropdown\">\n            <a\n              class=\"nav-link nav-icon-hover\"\n              href=\"javascript:void(0)\"\n              id=\"userDropdown\"\n              data-bs-toggle=\"dropdown\"\n              aria-expanded=\"false\"\n            >\n\n            <img\n            :src=\"uploadsUrl + image\"\n            @error=\"onLogoError($event)\"\n            alt=\"User Profile\"\n            class=\"rounded-circle\"\n            width=\"35\"\n            height=\"35\"\n            />\n            \n              \n            </a>\n           \n            <ul\n              class=\"dropdown-menu dropdown-menu-end dropdown-menu-animate-up\"\n              aria-labelledby=\"userDropdown\"\n            >\n              <li>\n                <router-link\n                  to=\"/dashboard/View-profile\"\n                  class=\"dropdown-item d-flex align-items-center \"\n                >\n                  <i class=\"ti ti-user fs-6 me-2\"></i> My Profile\n                </router-link>\n              </li>\n              \n              <li>\n                <router-link\n                  to=\"/dashboard/change-password\"\n                  class=\"dropdown-item d-flex align-items-center\"\n                  \n                >\n                 <i class=\"fa-solid fa-key me-2\"></i> Credentials\n                </router-link>\n              </li>\n              <li>\n                <router-link\n                  to=\"/dashboard/settings\"\n                  class=\"dropdown-item d-flex align-items-center\"\n                  \n                >\n                 <i class=\"fa-solid fa-key me-2\"></i> Settings\n                </router-link>\n              </li>\n              <li>\n                <a\n                  href=\"javascript:void(0)\"\n                  class=\"dropdown-item\"\n                  @click=\"logout\"\n                >\n                 <i class=\"ti ti-square-arrow-left me-2\" style=\"width: 2rem;\"></i> Logout\n                </a>\n              </li>\n              \n              \n            </ul>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  </header>\n</template>\n\n<script>\nimport { globalVariable } from \"@/global\";\n\nexport default {\n  name: \"HeaderComponent\",\n  data() {\n    return {\n      defaultImage: require(\"@/assets/img/user-1.jpg\"),\n      uploadsUrl: globalVariable + \"/uploads/profile/\",\n      \n      userId: \"\",\n      userEmail: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      image: \"\",\n    };\n  },\n  mounted() {\n    this.getUserIdFromEmail();\n  },\n  methods: {\n\n     onLogoError(event) {\n    event.target.src = this.defaultImage;\n  },\n    async getUserIdFromEmail() {\n      const token = localStorage.getItem(\"employeeToken\");\n      if (!token) return;\n      \n      try {\n        const payload = JSON.parse(atob(token.split(\".\")[1]));\n        this.userEmail = payload.email;\n        \n        const res = await fetch(`${globalVariable}/get_user_id_by_email/${this.userEmail}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        \n        const data = await res.json();\n        if (res.ok) {\n          this.userId = data.users_id;\n          this.fetchProfile(); // Fetch profile after getting userId\n        } else {\n          console.error(\"Unable to get user ID:\", data.message);\n        }\n      } catch (err) {\n        console.error(\"Error getting users_id:\", err);\n      }\n    },\n\n    async fetchProfile() {\n      const token = localStorage.getItem(\"employeeToken\");\n      if (!token || !this.userId) return;\n      \n      try {\n        const res = await fetch(`${globalVariable}/seeker/view_profile/${this.userId}`, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        \n        const data = await res.json();\n        if (res.ok) {\n          this.firstName = data.first_name || \"\";\n          this.lastName = data.last_name || \"\";\n          this.image = data.image || \"\";\n        } else {\n          console.error(\"Failed to fetch profile:\", data.message);\n        }\n      } catch (err) {\n        console.error(\"Error fetching profile:\", err);\n      }\n    },\n    \n    logout() {\n      localStorage.removeItem(\"authToken\");\n      this.$router.push(\"/login\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.app-header {\n  width: 100%;\n  background: #ffffff;\n  \n}\n\n.nav-icon-hover {\n  cursor: pointer;\n}\n\n/* Hover effect for dropdown items */\n.dropdown-item:hover {\n  background-color: #ea60a7 !important;\n  color: white !important;\n}\n\n/* Override bootstrap dropdown-menu animation if needed */\n.dropdown-menu-animate-up {\n  animation: dropdownAnimateUp 0.3s ease forwards;\n}\n\n@keyframes dropdownAnimateUp {\n  0% {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}